"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[36123],{43023:(e,n,o)=>{o.d(n,{R:()=>r,x:()=>i});var t=o(63696);const l={},s=t.createContext(l);function r(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),t.createElement(s.Provider,{value:n},e.children)}},63629:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>a,contentTitle:()=>i,default:()=>p,frontMatter:()=>r,metadata:()=>t,toc:()=>d});var t=o(70090),l=o(62540),s=o(43023);const r={slug:"proto-v0.16",title:"proto v0.16 - Add, remove, and purge plugins",authors:["milesj"],tags:["proto","plugin"]},i=void 0,a={authorsImageUrls:[void 0]},d=[{value:"Add and remove plugins",id:"add-and-remove-plugins",level:2},{value:"Purge tools and plugins",id:"purge-tools-and-plugins",level:2},{value:"Other changes",id:"other-changes",level:2}];function c(e){const n={a:"a",code:"code",em:"em",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.p,{children:"This release adds functionality for managing plugins and purging the proto store."}),"\n",(0,l.jsx)(n.h2,{id:"add-and-remove-plugins",children:"Add and remove plugins"}),"\n",(0,l.jsxs)(n.p,{children:["Now that proto has fully embraced a plugin based architecture, we thought it'd be nice to support\nthe management of these plugins through the CLI. This release adds two new commands:\n",(0,l.jsx)(n.a,{href:"/docs/proto/commands/plugin/add",children:(0,l.jsx)(n.code,{children:"proto add-plugin"})})," and\n",(0,l.jsx)(n.a,{href:"/docs/proto/commands/plugin/remove",children:(0,l.jsx)(n.code,{children:"proto remove-plugin"})}),"."]}),"\n",(0,l.jsx)(n.p,{children:"Adding a plugin requires a unique ID and what we call a locator, which is a string that dictates\nwhere to locate and download the plugin from. Here's an example for Node.js, but this isn't\nnecessary as it's built-in:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"$ proto add-plugin node source:https://github.com/moonrepo/node-plugin/releases/latest/download/node_plugin.wasm\n"})}),"\n",(0,l.jsx)(n.p,{children:"Additionally, removing a plugin is even easier."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"$ proto remove-plugin node\n"})}),"\n",(0,l.jsx)(n.h2,{id:"purge-tools-and-plugins",children:"Purge tools and plugins"}),"\n",(0,l.jsxs)(n.p,{children:["proto has supported cleaning for quite some time through the\n",(0,l.jsx)(n.a,{href:"/docs/proto/commands/clean",children:(0,l.jsx)(n.code,{children:"proto clean"})})," command (and the\n",(0,l.jsxs)(n.a,{href:"/docs/proto/config",children:[(0,l.jsx)(n.code,{children:"auto-clean"})," setting"]}),"), which would automatically delete installed tool\nversions and temporary files that are older then a specific timeframe. This helps to free up disk\nspace for unused or rarely used tools."]}),"\n",(0,l.jsxs)(n.p,{children:["In this release, we're expanding the ",(0,l.jsx)(n.code,{children:"clean"}),' command\'s functionality with a concept known as\npurging, which will "delete entirely". The first being the new ',(0,l.jsx)(n.code,{children:"--purge"})," option, which will delete a\ntool, its manifest, ",(0,l.jsx)(n.em,{children:"all"})," installed versions, and the entire ",(0,l.jsx)(n.code,{children:"~/.proto/tools/<id>"})," directory."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"# Delete all traces of Node.js\n$ proto clean --purge node\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Additionally, a new ",(0,l.jsx)(n.code,{children:"--purge-plugins"})," option can be used to delete all downloaded plugins (the\n",(0,l.jsx)(n.code,{children:"~/.proto/plugins"})," directory). Useful for house keeping or if you want to start fresh."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"$ proto clean --purge-plugins\n"})}),"\n",(0,l.jsx)(n.h2,{id:"other-changes",children:"Other changes"}),"\n",(0,l.jsxs)(n.p,{children:["View the ",(0,l.jsx)(n.a,{href:"https://github.com/moonrepo/proto/releases/tag/v0.16.0",children:"official release"})," for a full list\nof changes."]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Added folder locking during tool installation to avoid colliding processes."}),"\n",(0,l.jsxs)(n.li,{children:["Renamed ",(0,l.jsx)(n.code,{children:"PROTO_ROOT"})," to ",(0,l.jsx)(n.code,{children:"PROTO_HOME"}),", but we'll support ",(0,l.jsx)(n.code,{children:"PROTO_ROOT"})," for the time being."]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}},70090:e=>{e.exports=JSON.parse('{"permalink":"/blog/proto-v0.16","editUrl":"https://github.com/moonrepo/moon/tree/master/website/blog/2023-09-04_proto-v0.16.mdx","source":"@site/blog/2023-09-04_proto-v0.16.mdx","title":"proto v0.16 - Add, remove, and purge plugins","description":"This release adds functionality for managing plugins and purging the proto store.","date":"2023-09-04T00:00:00.000Z","tags":[{"inline":true,"label":"proto","permalink":"/blog/tags/proto"},{"inline":true,"label":"plugin","permalink":"/blog/tags/plugin"}],"readingTime":1.59,"hasTruncateMarker":true,"authors":[{"name":"Miles Johnson","title":"Founder, developer","url":"https://github.com/milesj","imageURL":"/img/authors/miles.jpg","key":"milesj","page":null}],"frontMatter":{"slug":"proto-v0.16","title":"proto v0.16 - Add, remove, and purge plugins","authors":["milesj"],"tags":["proto","plugin"]},"unlisted":false,"prevItem":{"title":"moon v1.13 - Toolchain now uses WASM plugins","permalink":"/blog/moon-v1.13"},"nextItem":{"title":"proto v0.15 - Install and uninstall globals","permalink":"/blog/proto-v0.15"}}')}}]);