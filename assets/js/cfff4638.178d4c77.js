"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[57871],{15868:(e,n,s)=>{s.d(n,{A:()=>r});var c=s(65162),o=s(62540);function r({header:e,inline:n,updated:s,version:r}){return(0,o.jsx)(c.A,{text:`v${r}`,variant:s?"success":"info",className:e?"absolute right-0 top-1.5":n?"inline-block ml-1":"ml-2"})}},38587:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>x,frontMatter:()=>i,metadata:()=>c,toc:()=>a});const c=JSON.parse('{"id":"commands/exec","title":"exec","description":"The moon exec (or moon x, or moonx) command is a low-level command for executing tasks in the","source":"@site/docs/commands/exec.mdx","sourceDirName":"commands","slug":"/commands/exec","permalink":"/docs/commands/exec","draft":false,"unlisted":false,"editUrl":"https://github.com/moonrepo/moon/tree/master/website/docs/commands/exec.mdx","tags":[],"version":"current","frontMatter":{"title":"exec"},"sidebar":"docs","previous":{"title":"setup","permalink":"/docs/commands/docker/setup"},"next":{"title":"ext","permalink":"/docs/commands/ext"}}');var o=s(62540),r=s(43023),t=s(15868);const i={title:"exec"},d=void 0,l={},a=[{value:"Arguments",id:"arguments",level:2},{value:"Options",id:"options",level:2},{value:"Workflow",id:"workflow",level:3},{value:"Affected",id:"affected",level:3},{value:"Graph",id:"graph",level:3},{value:"Parallelism",id:"parallelism",level:3}];function h(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.A,{version:"2.0.0",header:!0}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"moon exec"})," (or ",(0,o.jsx)(n.code,{children:"moon x"}),", or ",(0,o.jsx)(n.code,{children:"moonx"}),") command is a low-level command for executing tasks in the\naction pipeline. It provides fine-grained control over how tasks are selected and executed, through\ncommand line options, making it ideal for custom workflows and advanced use cases."]}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.a,{href:"./check",children:(0,o.jsx)(n.code,{children:"moon check"})}),", ",(0,o.jsx)(n.a,{href:"./ci",children:(0,o.jsx)(n.code,{children:"moon ci"})}),", and ",(0,o.jsx)(n.a,{href:"./run",children:(0,o.jsx)(n.code,{children:"moon run"})})," commands are all built on\ntop of ",(0,o.jsx)(n.code,{children:"moon exec"}),", so be sure to check those out for more user-friendly abstractions!"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shell",children:"# Run `lint` in project `app`\n$ moon exec app:lint\n$ moonx app:lint\n\n# Run `dev` in project `client` and `server`\n$ moon exec client:dev server:dev\n$ moonx client:dev server:dev\n\n# Run `test` in all projects\n$ moon exec :test\n$ moonx :test\n\n# Run `test` in all projects with tag `frontend`\n$ moon exec '#frontend:test'\n$ moonx '#frontend:test'\n\n# Run `format` in the default project\n$ moon exec format\n$ moonx format\n\n# Run `build` in projects matching the query\n$ moon exec :build --query \"language=javascript && projectLayer=library\"\n"})}),"\n",(0,o.jsx)(n.h2,{id:"arguments",children:"Arguments"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"...<target>"})," - ",(0,o.jsx)(n.a,{href:"../concepts/target",children:"Task targets"})," or project relative tasks to run."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"[-- <args>]"})," - Additional arguments to\n",(0,o.jsx)(n.a,{href:"../run-task#passing-arguments-to-the-underlying-command",children:"pass to the underlying command"}),"."]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"options",children:"Options"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"--ci"})," - Force enable CI mode."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"-f"}),", ",(0,o.jsx)(n.code,{children:"--force"})," - Force run and bypass cache, ignore changed files, and skip affected checks."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"-i"}),", ",(0,o.jsx)(n.code,{children:"--interactive"})," - Run the pipeline and tasks interactively."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"-s"}),", ",(0,o.jsx)(n.code,{children:"--summary [LEVEL]"})," - Print a summary of all actions that were ran in the pipeline."]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"workflow",children:"Workflow"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"--ignore-ci-checks"}),' - Ignore "run in CI" task checks.']}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"--on-failure <ON>"})," - When a task fails, either bail the pipeline, or continue executing."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"--query <QUERY>"})," - Filter tasks based on the result of a query."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"--no-actions"})," - Run the pipeline without sync and setup related actions."]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"affected",children:"Affected"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"--affected [BY]"}),' - Only run tasks if affected by changed files. Optionally accepts "local" or\n"remote".']}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"--base <BASE>"})," - Base branch, commit, or revision to compare against."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"--head <HEAD>"})," - Current branch, commit, or revision to compare with."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"-g"}),", ",(0,o.jsx)(n.code,{children:"--include-relations"})," - Include graph relations for affected checks, instead of just changed\nfiles."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"--status <STATUS>"})," - Filter changed files based on a changed status."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"--stdin"})," - Accept changed files from stdin for affected checks."]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"graph",children:"Graph"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"--downstream <DEPTH>"}),", ",(0,o.jsx)(n.code,{children:"--dependents <DEPTH>"}),' - Control the depth of downstream dependents.\nSupports "none" (default), "direct", "deep".']}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"--upstream <DEPTH>"}),", ",(0,o.jsx)(n.code,{children:"--dependencies <DEPTH>"}),' - Control the depth of upstream dependencies.\nSupports "none", "direct", "deep" (default).']}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"parallelism",children:"Parallelism"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"--job <INDEX>"})," - Index of the current job (0 based)."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"--job-total <TOTAL>"})," - Total amount of jobs to run."]}),"\n"]})]})}function x(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}},43023:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>i});var c=s(63696);const o={},r=c.createContext(o);function t(e){const n=c.useContext(r);return c.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:t(e.components),c.createElement(r.Provider,{value:n},e.children)}},65162:(e,n,s)=>{s.d(n,{A:()=>i});var c=s(11750),o=s(74599),r=s(62540);const t={failure:"bg-red-100 text-red-900",info:"bg-pink-100 text-pink-900",success:"bg-green-100 text-green-900",warning:"bg-orange-100 text-orange-900"};function i({className:e,icon:n,text:s,variant:i}){return(0,r.jsxs)("span",{className:(0,c.A)("inline-flex items-center px-1 py-0.5 rounded text-xs font-bold uppercase",i?t[i]:"bg-gray-100 text-gray-800",e),children:[n&&(0,r.jsx)(o.A,{icon:n,className:"mr-1"}),s]})}}}]);