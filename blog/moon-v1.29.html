<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.0">
<title data-rh="true">moon v1.29 - Improved affected tracking, experimental Pkl configuration, and more | moonrepo</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://moonrepo.dev/blog/moon-v1.29"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" name="keywords" content="moon, repo, moonrepo, task, runner, build, system, ci, times, devx, developer, experience, tooling, tools, monorepo, polyrepo, productivity, platform, proto, toolchain"><meta data-rh="true" name="og:image" content="https://moonrepo.dev/img/hero/slate-bg.jpg"><meta data-rh="true" property="og:title" content="moon v1.29 - Improved affected tracking, experimental Pkl configuration, and more | moonrepo"><meta data-rh="true" name="description" content="In this release, we&#x27;re excited to introduce an improved affected tracker and a new (but"><meta data-rh="true" property="og:description" content="In this release, we&#x27;re excited to introduce an improved affected tracker and a new (but"><meta data-rh="true" property="og:image" content="https://moonrepo.dev/assets/images/v1.29-e00b51e586685d72b0ea1d5ba6c30b29.png"><meta data-rh="true" name="twitter:image" content="https://moonrepo.dev/assets/images/v1.29-e00b51e586685d72b0ea1d5ba6c30b29.png"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2024-10-07T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/milesj"><meta data-rh="true" property="article:tag" content="affected,detection,tracker,project,task,config,pkl"><link data-rh="true" rel="icon" href="/img/favicon.svg"><link data-rh="true" rel="canonical" href="https://moonrepo.dev/blog/moon-v1.29"><link data-rh="true" rel="alternate" href="https://moonrepo.dev/blog/moon-v1.29" hreflang="en"><link data-rh="true" rel="alternate" href="https://moonrepo.dev/blog/moon-v1.29" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://400S075OEM-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://moonrepo.dev/blog/moon-v1.29","mainEntityOfPage":"https://moonrepo.dev/blog/moon-v1.29","url":"https://moonrepo.dev/blog/moon-v1.29","headline":"moon v1.29 - Improved affected tracking, experimental Pkl configuration, and more","name":"moon v1.29 - Improved affected tracking, experimental Pkl configuration, and more","description":"In this release, we're excited to introduce an improved affected tracker and a new (but","datePublished":"2024-10-07T00:00:00.000Z","author":{"@type":"Person","name":"Miles Johnson","description":"Founder, developer","url":"https://github.com/milesj","image":"/img/authors/miles.jpg"},"image":{"@type":"ImageObject","@id":"https://moonrepo.dev/assets/images/v1.29-e00b51e586685d72b0ea1d5ba6c30b29.png","url":"https://moonrepo.dev/assets/images/v1.29-e00b51e586685d72b0ea1d5ba6c30b29.png","contentUrl":"https://moonrepo.dev/assets/images/v1.29-e00b51e586685d72b0ea1d5ba6c30b29.png","caption":"title image for the blog post: moon v1.29 - Improved affected tracking, experimental Pkl configuration, and more"},"keywords":[],"isPartOf":{"@type":"Blog","@id":"https://moonrepo.dev/blog","name":"Blog"}}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="moonrepo RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="moonrepo Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-LB233GTZD3"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-LB233GTZD3",{})</script>



<link rel="search" type="application/opensearchdescription+xml" title="moonrepo" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.6dcfee5e.css">
<script src="/assets/js/runtime~main.94521c5a.js" defer="defer"></script>
<script src="/assets/js/main.24aca8ae.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><link rel="preload" as="image" href="/img/authors/miles.jpg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_oPtH" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="moon" class="themedComponent_siVc themedComponent--light_hHel"><img src="/img/logo.svg" alt="moon" class="themedComponent_siVc themedComponent--dark_yETr"></div></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Products</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/moon"><strong class="block mr-2">moon</strong><div class="opacity-60">Build system for managing codebases</div></a></li><li><a class="dropdown__link" href="/proto"><strong class="block mr-2">proto</strong><div class="opacity-60">Multi-language version manager</div></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Docs</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs"><strong>moon</strong></a></li><li><a class="dropdown__link" href="/docs/proto"><strong>proto</strong></a></li></ul></div><a class="navbar__item navbar__link" href="/docs/guides/ci">Guides</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a href="https://github.com/moonrepo" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="toggle_ki11 colorModeToggle_Hewu"><button class="clean-btn toggleButton_MMFG toggleButtonDisabled_Uw7m" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_k9hJ lightToggleIcon_lgto"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_k9hJ darkToggleIcon_U96C"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_k9hJ systemToggleIcon_E5c0"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_bzqh"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_MB5r"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_CLW8 thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_DQfJ margin-bottom--md">Recent posts</div><div role="group"><h3 class="yearGroupHeading_jjLT">2025</h3><ul class="sidebarItemList_rvuc clean-list"><li class="sidebarItem__RMN"><a class="sidebarItemLink_Ony9" href="/blog/moon-v1.39">moon v1.39 - Improved task inputs, better proto integration, and project layers</a></li><li class="sidebarItem__RMN"><a class="sidebarItemLink_Ony9" href="/blog/proto-v0.51">proto v0.51 - Unstable lockfiles and plugin registries</a></li><li class="sidebarItem__RMN"><a class="sidebarItemLink_Ony9" href="/blog/moon-v1.38">moon v1.38 - Go WASM toolchain, MCP tools, terminal notifications, and more!</a></li><li class="sidebarItem__RMN"><a class="sidebarItemLink_Ony9" href="/blog/proto-v0.50">proto v0.50 - URL rewrites, on-init activation, preserved comments, and more</a></li><li class="sidebarItem__RMN"><a class="sidebarItemLink_Ony9" href="/blog/moon-v1.37">moon v1.37 - Rust WASM toolchain and MCP support</a></li></ul></div></nav></aside><main class="col col--7"><article class=""><header><h1 class="title_Kdtz">moon v1.29 - Improved affected tracking, experimental Pkl configuration, and more</h1><div class="container_iZB2 margin-vert--md"><time datetime="2024-10-07T00:00:00.000Z">October 7, 2024</time> · <!-- -->9 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_v1VX"><div class="avatar margin-bottom--sm"><a href="https://github.com/milesj" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_kSUf" src="/img/authors/miles.jpg" alt="Miles Johnson"></a><div class="avatar__intro authorDetails_W4s3"><div class="avatar__name"><a href="https://github.com/milesj" target="_blank" rel="noopener noreferrer"><span class="authorName_Tejg">Miles Johnson</span></a></div><small class="authorTitle_ohR6" title="Founder, developer">Founder, developer</small><div class="authorSocials_VbIH"></div></div></div></div></div></header><div id="__blog-post-container" class="markdown"><p>In this release, we&#x27;re excited to introduce an improved affected tracker and a new (but
experimental) configuration format!</p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="new-affected-projects-tracker">New affected projects tracker<a href="#new-affected-projects-tracker" class="hash-link" aria-label="Direct link to New affected projects tracker" title="Direct link to New affected projects tracker">​</a></h2>
<p>We&#x27;ve received a lot of feedback that our affected projects and tasks logic works differently across
commands, or that it&#x27;s hard to understand why something is affected or not affected. We wanted to
add more clarity around affected projects, so have implemented a new affected tracker.</p>
<p>This new tracker includes a ton of new logging that we believe will answer the &quot;why&quot;. For example,
once the tracker has finished tracking, we&#x27;ll log all affected projects and tasks, and what marked
their affected state.</p>
<div class="language-shell codeBlockContainer_mQmQ theme-code-block" style="--prism-background-color:#00080f;--prism-color:#e5e9f1"><div class="codeBlockContent_t_Hd"><pre tabindex="0" class="prism-code language-shell codeBlock_RMoD thin-scrollbar" style="background-color:#00080f;color:#e5e9f1"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#e5e9f1"><span class="token punctuation" style="color:#cad4e2">[</span><span class="token plain">DEBUG</span><span class="token punctuation" style="color:#cad4e2">]</span><span class="token plain"> moon_affected::affected_tracker  Project website is affected by  </span><span class="token assign-left variable" style="color:#fef9c3">files</span><span class="token operator" style="color:#b7a9f9">=</span><span class="token punctuation" style="color:#cad4e2">[</span><span class="token string" style="color:#c9e166">&quot;website/blog/2024-10-01_moon-v1.29.mdx&quot;</span><span class="token punctuation" style="color:#cad4e2">]</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#fef9c3">upstream</span><span class="token operator" style="color:#b7a9f9">=</span><span class="token punctuation" style="color:#cad4e2">[</span><span class="token punctuation" style="color:#cad4e2">]</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#fef9c3">downstream</span><span class="token operator" style="color:#b7a9f9">=</span><span class="token punctuation" style="color:#cad4e2">[</span><span class="token punctuation" style="color:#cad4e2">]</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#fef9c3">other</span><span class="token operator" style="color:#b7a9f9">=</span><span class="token plain">false</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain"></span><span class="token punctuation" style="color:#cad4e2">[</span><span class="token plain">DEBUG</span><span class="token punctuation" style="color:#cad4e2">]</span><span class="token plain"> moon_affected::affected_tracker  Project runtime is affected by </span><span class="token assign-left variable" style="color:#fef9c3">files</span><span class="token operator" style="color:#b7a9f9">=</span><span class="token punctuation" style="color:#cad4e2">[</span><span class="token punctuation" style="color:#cad4e2">]</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#fef9c3">upstream</span><span class="token operator" style="color:#b7a9f9">=</span><span class="token punctuation" style="color:#cad4e2">[</span><span class="token punctuation" style="color:#cad4e2">]</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#fef9c3">downstream</span><span class="token operator" style="color:#b7a9f9">=</span><span class="token punctuation" style="color:#cad4e2">[</span><span class="token string" style="color:#c9e166">&quot;website&quot;</span><span class="token punctuation" style="color:#cad4e2">]</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#fef9c3">other</span><span class="token operator" style="color:#b7a9f9">=</span><span class="token plain">false</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain"></span><span class="token punctuation" style="color:#cad4e2">[</span><span class="token plain">DEBUG</span><span class="token punctuation" style="color:#cad4e2">]</span><span class="token plain"> moon_affected::affected_tracker  Project types is affected by  </span><span class="token assign-left variable" style="color:#fef9c3">files</span><span class="token operator" style="color:#b7a9f9">=</span><span class="token punctuation" style="color:#cad4e2">[</span><span class="token punctuation" style="color:#cad4e2">]</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#fef9c3">upstream</span><span class="token operator" style="color:#b7a9f9">=</span><span class="token punctuation" style="color:#cad4e2">[</span><span class="token punctuation" style="color:#cad4e2">]</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#fef9c3">downstream</span><span class="token operator" style="color:#b7a9f9">=</span><span class="token punctuation" style="color:#cad4e2">[</span><span class="token string" style="color:#c9e166">&quot;website&quot;</span><span class="token plain">, </span><span class="token string" style="color:#c9e166">&quot;runtime&quot;</span><span class="token punctuation" style="color:#cad4e2">]</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#fef9c3">other</span><span class="token operator" style="color:#b7a9f9">=</span><span class="token plain">false</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain"></span><span class="token punctuation" style="color:#cad4e2">[</span><span class="token plain">DEBUG</span><span class="token punctuation" style="color:#cad4e2">]</span><span class="token plain"> moon_affected::affected_tracker  Task runtime:build is affected by  </span><span class="token assign-left variable" style="color:#fef9c3">env</span><span class="token operator" style="color:#b7a9f9">=</span><span class="token punctuation" style="color:#cad4e2">[</span><span class="token punctuation" style="color:#cad4e2">]</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#fef9c3">files</span><span class="token operator" style="color:#b7a9f9">=</span><span class="token punctuation" style="color:#cad4e2">[</span><span class="token punctuation" style="color:#cad4e2">]</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#fef9c3">upstream</span><span class="token operator" style="color:#b7a9f9">=</span><span class="token punctuation" style="color:#cad4e2">[</span><span class="token punctuation" style="color:#cad4e2">]</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#fef9c3">downstream</span><span class="token operator" style="color:#b7a9f9">=</span><span class="token punctuation" style="color:#cad4e2">[</span><span class="token string" style="color:#c9e166">&quot;website:start&quot;</span><span class="token plain">, </span><span class="token string" style="color:#c9e166">&quot;website:build&quot;</span><span class="token punctuation" style="color:#cad4e2">]</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#fef9c3">other</span><span class="token operator" style="color:#b7a9f9">=</span><span class="token plain">false</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain"></span><span class="token punctuation" style="color:#cad4e2">[</span><span class="token plain">DEBUG</span><span class="token punctuation" style="color:#cad4e2">]</span><span class="token plain"> moon_affected::affected_tracker  Task website:start is affected by  </span><span class="token assign-left variable" style="color:#fef9c3">env</span><span class="token operator" style="color:#b7a9f9">=</span><span class="token punctuation" style="color:#cad4e2">[</span><span class="token punctuation" style="color:#cad4e2">]</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#fef9c3">files</span><span class="token operator" style="color:#b7a9f9">=</span><span class="token punctuation" style="color:#cad4e2">[</span><span class="token string" style="color:#c9e166">&quot;website/blog/2024-10-01_moon-v1.29.mdx&quot;</span><span class="token punctuation" style="color:#cad4e2">]</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#fef9c3">upstream</span><span class="token operator" style="color:#b7a9f9">=</span><span class="token punctuation" style="color:#cad4e2">[</span><span class="token punctuation" style="color:#cad4e2">]</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#fef9c3">downstream</span><span class="token operator" style="color:#b7a9f9">=</span><span class="token punctuation" style="color:#cad4e2">[</span><span class="token punctuation" style="color:#cad4e2">]</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#fef9c3">other</span><span class="token operator" style="color:#b7a9f9">=</span><span class="token plain">false</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain"></span><span class="token punctuation" style="color:#cad4e2">[</span><span class="token plain">DEBUG</span><span class="token punctuation" style="color:#cad4e2">]</span><span class="token plain"> moon_affected::affected_tracker  Task types:build is affected by  </span><span class="token assign-left variable" style="color:#fef9c3">env</span><span class="token operator" style="color:#b7a9f9">=</span><span class="token punctuation" style="color:#cad4e2">[</span><span class="token punctuation" style="color:#cad4e2">]</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#fef9c3">files</span><span class="token operator" style="color:#b7a9f9">=</span><span class="token punctuation" style="color:#cad4e2">[</span><span class="token punctuation" style="color:#cad4e2">]</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#fef9c3">upstream</span><span class="token operator" style="color:#b7a9f9">=</span><span class="token punctuation" style="color:#cad4e2">[</span><span class="token punctuation" style="color:#cad4e2">]</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#fef9c3">downstream</span><span class="token operator" style="color:#b7a9f9">=</span><span class="token punctuation" style="color:#cad4e2">[</span><span class="token string" style="color:#c9e166">&quot;website:start&quot;</span><span class="token plain">, </span><span class="token string" style="color:#c9e166">&quot;runtime:build&quot;</span><span class="token plain">, </span><span class="token string" style="color:#c9e166">&quot;website:build&quot;</span><span class="token punctuation" style="color:#cad4e2">]</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#fef9c3">other</span><span class="token operator" style="color:#b7a9f9">=</span><span class="token plain">false</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain"></span><span class="token punctuation" style="color:#cad4e2">[</span><span class="token plain">DEBUG</span><span class="token punctuation" style="color:#cad4e2">]</span><span class="token plain"> moon_affected::affected_tracker  Task website:build is affected by  </span><span class="token assign-left variable" style="color:#fef9c3">env</span><span class="token operator" style="color:#b7a9f9">=</span><span class="token punctuation" style="color:#cad4e2">[</span><span class="token punctuation" style="color:#cad4e2">]</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#fef9c3">files</span><span class="token operator" style="color:#b7a9f9">=</span><span class="token punctuation" style="color:#cad4e2">[</span><span class="token string" style="color:#c9e166">&quot;website/blog/2024-10-01_moon-v1.29.mdx&quot;</span><span class="token punctuation" style="color:#cad4e2">]</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#fef9c3">upstream</span><span class="token operator" style="color:#b7a9f9">=</span><span class="token punctuation" style="color:#cad4e2">[</span><span class="token punctuation" style="color:#cad4e2">]</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#fef9c3">downstream</span><span class="token operator" style="color:#b7a9f9">=</span><span class="token punctuation" style="color:#cad4e2">[</span><span class="token punctuation" style="color:#cad4e2">]</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#fef9c3">other</span><span class="token operator" style="color:#b7a9f9">=</span><span class="token plain">false</span><br></span></code></pre></div></div>
<p>What marks an affected state is based on one or many of the following:</p>
<ul>
<li>By touched files</li>
<li>By environment variables (task only)</li>
<li>By upstream dependencies</li>
<li>By downstream dependents (project only)</li>
<li>And other minor internal logic</li>
</ul>
<p>This information is also included in the run report at <code>.moon/cache/runReport.json</code>, under the
<code>context.affected</code> property. An example of this looks like:</p>
<div class="language-json codeBlockContainer_mQmQ theme-code-block" style="--prism-background-color:#00080f;--prism-color:#e5e9f1"><div class="codeBlockContent_t_Hd"><pre tabindex="0" class="prism-code language-json codeBlock_RMoD thin-scrollbar" style="background-color:#00080f;color:#e5e9f1"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#e5e9f1"><span class="token punctuation" style="color:#cad4e2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  </span><span class="token property" style="color:#b7a9f9">&quot;projects&quot;</span><span class="token operator" style="color:#b7a9f9">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#cad4e2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    </span><span class="token property" style="color:#b7a9f9">&quot;website&quot;</span><span class="token operator" style="color:#b7a9f9">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#cad4e2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">      </span><span class="token property" style="color:#b7a9f9">&quot;files&quot;</span><span class="token operator" style="color:#b7a9f9">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#cad4e2">[</span><span class="token string" style="color:#c9e166">&quot;website/blog/2024-10-01_moon-v1.29.mdx&quot;</span><span class="token punctuation" style="color:#cad4e2">]</span><span class="token punctuation" style="color:#cad4e2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">      </span><span class="token property" style="color:#b7a9f9">&quot;other&quot;</span><span class="token operator" style="color:#b7a9f9">:</span><span class="token plain"> </span><span class="token boolean" style="color:#94dded">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    </span><span class="token punctuation" style="color:#cad4e2">}</span><span class="token punctuation" style="color:#cad4e2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    </span><span class="token property" style="color:#b7a9f9">&quot;runtime&quot;</span><span class="token operator" style="color:#b7a9f9">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#cad4e2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">      </span><span class="token property" style="color:#b7a9f9">&quot;downstream&quot;</span><span class="token operator" style="color:#b7a9f9">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#cad4e2">[</span><span class="token string" style="color:#c9e166">&quot;website&quot;</span><span class="token punctuation" style="color:#cad4e2">]</span><span class="token punctuation" style="color:#cad4e2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">      </span><span class="token property" style="color:#b7a9f9">&quot;other&quot;</span><span class="token operator" style="color:#b7a9f9">:</span><span class="token plain"> </span><span class="token boolean" style="color:#94dded">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    </span><span class="token punctuation" style="color:#cad4e2">}</span><span class="token punctuation" style="color:#cad4e2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    </span><span class="token property" style="color:#b7a9f9">&quot;types&quot;</span><span class="token operator" style="color:#b7a9f9">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#cad4e2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">      </span><span class="token property" style="color:#b7a9f9">&quot;downstream&quot;</span><span class="token operator" style="color:#b7a9f9">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#cad4e2">[</span><span class="token string" style="color:#c9e166">&quot;website&quot;</span><span class="token punctuation" style="color:#cad4e2">,</span><span class="token plain"> </span><span class="token string" style="color:#c9e166">&quot;runtime&quot;</span><span class="token punctuation" style="color:#cad4e2">]</span><span class="token punctuation" style="color:#cad4e2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">      </span><span class="token property" style="color:#b7a9f9">&quot;other&quot;</span><span class="token operator" style="color:#b7a9f9">:</span><span class="token plain"> </span><span class="token boolean" style="color:#94dded">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    </span><span class="token punctuation" style="color:#cad4e2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  </span><span class="token punctuation" style="color:#cad4e2">}</span><span class="token punctuation" style="color:#cad4e2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  </span><span class="token property" style="color:#b7a9f9">&quot;tasks&quot;</span><span class="token operator" style="color:#b7a9f9">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#cad4e2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    </span><span class="token property" style="color:#b7a9f9">&quot;website:build&quot;</span><span class="token operator" style="color:#b7a9f9">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#cad4e2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">      </span><span class="token property" style="color:#b7a9f9">&quot;files&quot;</span><span class="token operator" style="color:#b7a9f9">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#cad4e2">[</span><span class="token string" style="color:#c9e166">&quot;website/blog/2024-10-01_moon-v1.29.mdx&quot;</span><span class="token punctuation" style="color:#cad4e2">]</span><span class="token punctuation" style="color:#cad4e2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">      </span><span class="token property" style="color:#b7a9f9">&quot;other&quot;</span><span class="token operator" style="color:#b7a9f9">:</span><span class="token plain"> </span><span class="token boolean" style="color:#94dded">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    </span><span class="token punctuation" style="color:#cad4e2">}</span><span class="token punctuation" style="color:#cad4e2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    </span><span class="token property" style="color:#b7a9f9">&quot;types:build&quot;</span><span class="token operator" style="color:#b7a9f9">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#cad4e2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">      </span><span class="token property" style="color:#b7a9f9">&quot;downstream&quot;</span><span class="token operator" style="color:#b7a9f9">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#cad4e2">[</span><span class="token string" style="color:#c9e166">&quot;website:build&quot;</span><span class="token punctuation" style="color:#cad4e2">]</span><span class="token punctuation" style="color:#cad4e2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">      </span><span class="token property" style="color:#b7a9f9">&quot;other&quot;</span><span class="token operator" style="color:#b7a9f9">:</span><span class="token plain"> </span><span class="token boolean" style="color:#94dded">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    </span><span class="token punctuation" style="color:#cad4e2">}</span><span class="token punctuation" style="color:#cad4e2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    </span><span class="token property" style="color:#b7a9f9">&quot;runtime:build&quot;</span><span class="token operator" style="color:#b7a9f9">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#cad4e2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">      </span><span class="token property" style="color:#b7a9f9">&quot;downstream&quot;</span><span class="token operator" style="color:#b7a9f9">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#cad4e2">[</span><span class="token string" style="color:#c9e166">&quot;website:build&quot;</span><span class="token punctuation" style="color:#cad4e2">]</span><span class="token punctuation" style="color:#cad4e2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">      </span><span class="token property" style="color:#b7a9f9">&quot;other&quot;</span><span class="token operator" style="color:#b7a9f9">:</span><span class="token plain"> </span><span class="token boolean" style="color:#94dded">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    </span><span class="token punctuation" style="color:#cad4e2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  </span><span class="token punctuation" style="color:#cad4e2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain"></span><span class="token punctuation" style="color:#cad4e2">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="control-upstream--downstream-depth">Control upstream / downstream depth<a href="#control-upstream--downstream-depth" class="hash-link" aria-label="Direct link to Control upstream / downstream depth" title="Direct link to Control upstream / downstream depth">​</a></h3>
<p>With this new tracker, we now have the ability to control the traversal depth for upstream
dependencies and downstream dependents in <code>moon query projects</code>, via the <code>--upstream</code> and
<code>--downstream</code> options respectively (the <code>--dependents</code> option is now deprecated).</p>
<p>These options support the following values:</p>
<ul>
<li><code>none</code> - Do not traverse deps.</li>
<li><code>direct</code> - Traverse direct parent/child deps.</li>
<li><code>deep</code> - Traverse full hierarchy deps.</li>
</ul>
<div class="language-shell codeBlockContainer_mQmQ theme-code-block" style="--prism-background-color:#00080f;--prism-color:#e5e9f1"><div class="codeBlockContent_t_Hd"><pre tabindex="0" class="prism-code language-shell codeBlock_RMoD thin-scrollbar" style="background-color:#00080f;color:#e5e9f1"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#e5e9f1"><span class="token plain">$ moon query projects </span><span class="token parameter variable" style="color:#fef9c3">--affected</span><span class="token plain"> </span><span class="token parameter variable" style="color:#fef9c3">--upstream</span><span class="token plain"> none </span><span class="token parameter variable" style="color:#fef9c3">--downstream</span><span class="token plain"> deep</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="what-about-tasks">What about tasks?<a href="#what-about-tasks" class="hash-link" aria-label="Direct link to What about tasks?" title="Direct link to What about tasks?">​</a></h3>
<p>We have the existing affected logic that has powered moon for years, and have updated that to
include the new logging. However, it&#x27;s not perfect and we want to improve it.</p>
<p>To support this overall enhancement for tasks, we need to support a task graph, which we currently
do not. We only have a project graph (which has tasks), and an action graph (which has more than
tasks). In a future release, we&#x27;ll introduce a new task graph that will fill the gaps.</p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="experimental-support-for-pkl-based-configuration">Experimental support for Pkl based configuration<a href="#experimental-support-for-pkl-based-configuration" class="hash-link" aria-label="Direct link to Experimental support for Pkl based configuration" title="Direct link to Experimental support for Pkl based configuration">​</a></h2>
<p>Pkl, what is that? If you haven&#x27;t heard of Pkl yet,
<a href="https://pkl-lang.org/" target="_blank" rel="noopener noreferrer">Pkl is a programmable configuration format by Apple</a>. But what about YAML?
YAML has served us well since the beginning, but we&#x27;re not happy with YAML. It&#x27;s better than JSON,
TOML, and XML, but still has its downsides. We want something better, something that meets the
following requirements:</p>
<ul>
<li>Is easy to read and write.</li>
<li>Is dynamic and programmable (loops, variables, etc).</li>
<li>Has type-safety or built-in schema support.</li>
<li>Has Rust serde integration.</li>
</ul>
<p>The primary requirement that we are hoping to achieve is adopting a configuration format that is
<em>programmable</em>. We want something that has native support for variables, loops, conditions, and
more, so that you could curate and compose your configuration very easily. Hacking this
functionality into YAML is a terrible user experience in our opinion!</p>
<p>And with all that said, I&#x27;m sure you&#x27;re curious what Pkl actually looks like in practice. Here&#x27;s a
few examples (unfortunately no syntax highlighting)!</p>
<div class="tabs-container tabList_J5MA"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_l0OV tabs__item--active">moon.pkl</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_l0OV">.moon/workspace.pkl</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_l0OV">.moon/toolchain.pkl</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_wHwb"><div class="language-pkl codeBlockContainer_mQmQ theme-code-block" style="--prism-background-color:#00080f;--prism-color:#e5e9f1"><div class="codeBlockContent_t_Hd"><pre tabindex="0" class="prism-code language-pkl codeBlock_RMoD thin-scrollbar" style="background-color:#00080f;color:#e5e9f1"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#e5e9f1"><span class="token plain">type = &quot;application&quot;</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">language = &quot;typescript&quot;</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">dependsOn = List(&quot;client&quot;, &quot;ui&quot;)</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">tasks {</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  [&quot;build&quot;] {</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    command = &quot;docusaurus build&quot;</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    deps = List(&quot;^:build&quot;)</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    outputs = List(&quot;build&quot;)</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    options {</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">      interactive = true</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">      retryCount = 3</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  [&quot;typecheck&quot;] {</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    command = &quot;tsc --build&quot;</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    inputs = new Listing {</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">      &quot;@globs(sources)&quot;</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">      &quot;@globs(tests)&quot;</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">      &quot;tsconfig.json&quot;</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">      &quot;/tsconfig.options.json&quot;</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">}</span><br></span></code></pre></div></div></div><div role="tabpanel" class="tabItem_wHwb" hidden=""><div class="language-pkl codeBlockContainer_mQmQ theme-code-block" style="--prism-background-color:#00080f;--prism-color:#e5e9f1"><div class="codeBlockContent_t_Hd"><pre tabindex="0" class="prism-code language-pkl codeBlock_RMoD thin-scrollbar" style="background-color:#00080f;color:#e5e9f1"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#e5e9f1"><span class="token plain">projects {</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  globs = List(&quot;apps/*&quot;, &quot;packages/*&quot;)</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  sources {</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    [&quot;root&quot;] = &quot;.&quot;</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">}</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">vcs {</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  defaultBranch = &quot;master&quot;</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">}</span><br></span></code></pre></div></div></div><div role="tabpanel" class="tabItem_wHwb" hidden=""><div class="language-pkl codeBlockContainer_mQmQ theme-code-block" style="--prism-background-color:#00080f;--prism-color:#e5e9f1"><div class="codeBlockContent_t_Hd"><pre tabindex="0" class="prism-code language-pkl codeBlock_RMoD thin-scrollbar" style="background-color:#00080f;color:#e5e9f1"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#e5e9f1"><span class="token plain">node {</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  version = &quot;20.15.0&quot;</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  packageManager = &quot;yarn&quot;</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  yarn {</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    version = &quot;4.3.1&quot;</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  addEnginesConstraint = false</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  inferTasksFromScripts = false</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">}</span><br></span></code></pre></div></div></div></div></div>
<p>Pretty straight forward for the most part! Lists/Listings (arrays) are a bit different than what you
may be used to, but they&#x27;re super easy to learn.</p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="advanced-examples">Advanced examples<a href="#advanced-examples" class="hash-link" aria-label="Direct link to Advanced examples" title="Direct link to Advanced examples">​</a></h3>
<p>I&#x27;ve talked a lot about programmable configs, but what exactly does that look like? Let&#x27;s go through
a few examples. Say you are building a Rust crate and you need a build task for each operating
system. In YAML you would need to define each of these manually, but with Pkl, you can build it with
a loop!</p>
<div class="language-pkl codeBlockContainer_mQmQ theme-code-block" style="--prism-background-color:#00080f;--prism-color:#e5e9f1"><div class="codeBlockContent_t_Hd"><pre tabindex="0" class="prism-code language-pkl codeBlock_RMoD thin-scrollbar" style="background-color:#00080f;color:#e5e9f1"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#e5e9f1"><span class="token plain">tasks {</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  for (_os in List(&quot;linux&quot;, &quot;macos&quot;, &quot;windows&quot;)) {</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    [&quot;build-\(_os)&quot;] {</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">      command = &quot;cargo&quot;</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">      args = List(</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">        &quot;--target&quot;,</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">        if (_os == &quot;linux&quot;) &quot;x86_64-unknown-linux-gnu&quot;</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">          else if (_os == &quot;macos&quot;) &quot;x86_64-apple-darwin&quot;</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">          else &quot;i686-pc-windows-msvc&quot;,</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">        &quot;--verbose&quot;</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">      )</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">      options {</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">        os = _os</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>Or maybe you want to share inputs across multiple tasks. This can be achieved with <code>local</code>
variables.</p>
<div class="language-pkl codeBlockContainer_mQmQ theme-code-block" style="--prism-background-color:#00080f;--prism-color:#e5e9f1"><div class="codeBlockContent_t_Hd"><pre tabindex="0" class="prism-code language-pkl codeBlock_RMoD thin-scrollbar" style="background-color:#00080f;color:#e5e9f1"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#e5e9f1"><span class="token plain">local _sharedInputs = List(&quot;src/**/*&quot;)</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">tasks {</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  [&quot;test&quot;] {</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    // ...</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    inputs = List(&quot;tests/**/*&quot;) + _sharedInputs</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  [&quot;lint&quot;] {</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    // ...</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    inputs = List(&quot;**/*.graphql&quot;) + _sharedInputs</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>Pretty awesome right? This is just a taste of what Pkl has to offer! We highly suggest reading the
<a href="https://pkl-lang.org/main/current/language-reference/index.html" target="_blank" rel="noopener noreferrer">language reference</a>, the
<a href="https://pkl-lang.org/main/current/standard-library.html" target="_blank" rel="noopener noreferrer">standard library</a>, or looking at our
<a href="https://github.com/moonrepo/moon/tree/master/crates/config/tests/__fixtures__/pkl" target="_blank" rel="noopener noreferrer">example configurations</a>
while testing Pkl.</p>
<blockquote>
<p>In the future, if Pkl seems like the right fit, we plan to take full advantage of what it has to
offer, by creating our own Pkl projects, modules, and types!</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="caveats-and-restrictions">Caveats and restrictions<a href="#caveats-and-restrictions" class="hash-link" aria-label="Direct link to Caveats and restrictions" title="Direct link to Caveats and restrictions">​</a></h3>
<p>Since this is an entirely new configuration format that is quite dynamic compared to YAML, there are
some key differences to be aware of!</p>
<ul>
<li>
<p>Each <code>.pkl</code> file is evaluated in isolation (loops are processed, variables assigned, etc). This
means that task inheritance and file merging cannot extend or infer this native functionality.</p>
</li>
<li>
<p><code>default</code> is a
<a href="https://pkl-lang.org/main/current/language-reference/index.html#default-element" target="_blank" rel="noopener noreferrer">special feature</a>
in Pkl and cannot be used as a setting name. This only applies to
<a href="/docs/config/template#default"><code>template.yml</code></a>, but can be worked around by using <code>defaultValue</code>
instead.</p>
</li>
</ul>
<div class="language-pkl codeBlockContainer_mQmQ theme-code-block" style="--prism-background-color:#00080f;--prism-color:#e5e9f1"><div class="codeBlockTitle_kY6l">template.yml</div><div class="codeBlockContent_t_Hd"><pre tabindex="0" class="prism-code language-pkl codeBlock_RMoD thin-scrollbar" style="background-color:#00080f;color:#e5e9f1"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#e5e9f1"><span class="token plain">variables {</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  [&quot;age&quot;] {</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    type = &quot;number&quot;</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    prompt = &quot;Age?&quot;</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    defaultValue = 0</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">}</span><br></span></code></pre></div></div>
<ul>
<li><code>local</code> is also a reserved word in Pkl. It can be worked around by escaping it with backticks, or
you can simply use the <a href="/docs/config/project#preset"><code>preset</code> setting</a> instead.</li>
</ul>
<div class="language-pkl codeBlockContainer_mQmQ theme-code-block" style="--prism-background-color:#00080f;--prism-color:#e5e9f1"><div class="codeBlockContent_t_Hd"><pre tabindex="0" class="prism-code language-pkl codeBlock_RMoD thin-scrollbar" style="background-color:#00080f;color:#e5e9f1"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#e5e9f1"><span class="token plain">tasks {</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  [&quot;example&quot;] {</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    `local` = true</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    # Or</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    preset = &quot;server&quot;</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">}</span><br></span></code></pre></div></div>
<ul>
<li>Only files are supported. Cannot use or extend from URLs.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="how-to-use-pkl">How to use Pkl?<a href="#how-to-use-pkl" class="hash-link" aria-label="Direct link to How to use Pkl?" title="Direct link to How to use Pkl?">​</a></h3>
<p>As mentioned in the heading, Pkl support is experimental, and <em>is not</em> enabled by default. If you&#x27;re
interested in trying out Pkl, you can with the following:</p>
<ul>
<li><a href="https://pkl-lang.org/main/current/pkl-cli/index.html#installation" target="_blank" rel="noopener noreferrer">Install <code>pkl</code> onto <code>PATH</code></a>.
Pkl uses a client-server communication model.<!-- -->
<ul>
<li>Can also be installed with proto:
<code>proto plugin add pkl https://raw.githubusercontent.com/milesj/proto-plugins/refs/heads/master/pkl.toml</code></li>
</ul>
</li>
<li>Use the <code>.pkl</code> file extension instead of <code>.yml</code>.</li>
<li>Pass the <code>--experimentPklConfig</code> CLI option, or set the <code>MOON_EXPERIMENT_PKL_CONFIG</code> environment
variable.</li>
</ul>
<div class="language-shell codeBlockContainer_mQmQ theme-code-block" style="--prism-background-color:#00080f;--prism-color:#e5e9f1"><div class="codeBlockContent_t_Hd"><pre tabindex="0" class="prism-code language-shell codeBlock_RMoD thin-scrollbar" style="background-color:#00080f;color:#e5e9f1"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#e5e9f1"><span class="token plain">$ moon check </span><span class="token parameter variable" style="color:#fef9c3">--all</span><span class="token plain"> </span><span class="token parameter variable" style="color:#fef9c3">--experimentPklConfig</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain"></span><span class="token comment" style="color:#97a1af;font-style:italic"># Or</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">$ </span><span class="token assign-left variable" style="color:#fef9c3">MOON_EXPERIMENT_PKL_CONFIG</span><span class="token operator" style="color:#b7a9f9">=</span><span class="token plain">true moon check </span><span class="token parameter variable" style="color:#fef9c3">--all</span><br></span></code></pre></div></div>
<blockquote>
<p>Pkl can be used alongside YAML with no issues! We&#x27;ll merge, inherit, and compose as usual.</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="what-about-x-instead">What about X instead?<a href="#what-about-x-instead" class="hash-link" aria-label="Direct link to What about X instead?" title="Direct link to What about X instead?">​</a></h3>
<p>There are a handful of other interesting or popular programmable configurations out there, so why
isn&#x27;t moon experimenting with those? The answer is, we may! Just so long as they meet the
requirements. With that said, we do have some opinions below:</p>
<ul>
<li><a href="https://github.com/bazelbuild/starlark/" target="_blank" rel="noopener noreferrer">Starlark/Skylark</a> - On our list to evaluate.</li>
<li><a href="https://nickel-lang.org" target="_blank" rel="noopener noreferrer">Nickel</a>, <a href="https://jsonnet.org" target="_blank" rel="noopener noreferrer">Jsonnet</a> - On our list to evaluate, but
not a fan of the JSON-like syntax.</li>
<li><a href="https://dhall-lang.org" target="_blank" rel="noopener noreferrer">Dhall</a> - While this meets most of our requirements, the syntax isn&#x27;t as
readable or user-friendly as we&#x27;d like.</li>
<li><a href="https://cuelang.org/" target="_blank" rel="noopener noreferrer">CUE</a> - No Rust support, so unlikely. It also works quite differently than
the other tools.</li>
<li><a href="https://www.kcl-lang.io/" target="_blank" rel="noopener noreferrer">KCL</a> - Nice syntax and meets the requirements, but no Rust support.</li>
</ul>
<p>If there&#x27;s another format you think we should investigate, drop us a line in Discord!</p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="looking-for-contributors">Looking for contributors!<a href="#looking-for-contributors" class="hash-link" aria-label="Direct link to Looking for contributors!" title="Direct link to Looking for contributors!">​</a></h2>
<p>Are you a fan of moon (or proto)? Interested in learning Rust or writing more Rust? Want to
contribute to an awesome project (we think so)? Well it just so happens that we are looking for
active contributors!</p>
<p>We have a very long roadmap of features we would like to implement, but do not have enough time or
resources to implement them in the timeframe we would like. These features range from very small
(low hanging fruit) to very large (and quite complex).</p>
<p>If this sounds like something you may be interested in, post a message in Discord and let us know!
Only a few hours a week commitment is good enough for us.</p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="other-changes">Other changes<a href="#other-changes" class="hash-link" aria-label="Direct link to Other changes" title="Direct link to Other changes">​</a></h2>
<p>View the <a href="https://github.com/moonrepo/moon/releases/tag/v1.29.0" target="_blank" rel="noopener noreferrer">official release</a> for a full list
of changes.</p>
<ul>
<li>Added a new task option, <code>cacheLifetime</code>, that controls how long a task will be cached for.</li>
<li>Added a new task merge strategy, <code>preserve</code>, that preserves the original inherited value.</li>
<li>Added a new setting <code>vcs.hookFormat</code> to <code>.moon/workspace.yml</code>, that can customize the shell/file
format for hooks.</li>
<li>Updated task <code>outputs</code> to support token and environment variables.</li>
<li>Updated <code>moon query projects</code> to include the project description as a trailing value.</li>
<li>Updated <code>moon query tasks</code> to include the task type and platform, and the task description as a
trailing value.</li>
</ul></div><footer class="docusaurus-mt-lg"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><b>Tags:</b><ul class="tags_Ow0B padding--none margin-left--sm"><li class="tag_DFxh"><a rel="tag" class="tag_otG2 tagRegular_s0E1" href="/blog/tags/affected">affected</a></li><li class="tag_DFxh"><a rel="tag" class="tag_otG2 tagRegular_s0E1" href="/blog/tags/detection">detection</a></li><li class="tag_DFxh"><a rel="tag" class="tag_otG2 tagRegular_s0E1" href="/blog/tags/tracker">tracker</a></li><li class="tag_DFxh"><a rel="tag" class="tag_otG2 tagRegular_s0E1" href="/blog/tags/project">project</a></li><li class="tag_DFxh"><a rel="tag" class="tag_otG2 tagRegular_s0E1" href="/blog/tags/task">task</a></li><li class="tag_DFxh"><a rel="tag" class="tag_otG2 tagRegular_s0E1" href="/blog/tags/config">config</a></li><li class="tag_DFxh"><a rel="tag" class="tag_otG2 tagRegular_s0E1" href="/blog/tags/pkl">pkl</a></li></ul></div></div><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><a href="https://github.com/moonrepo/moon/tree/master/website/blog/2024-10-07_moon-v1.29.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_bHB7" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_ydrU"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><div class="flex-1 text-left"><a class="cursor-pointer text-base text-blurple-300 hover:text-blurple-500 dark:text-purple-400 dark:hover:text-purple-200 font-bold inline-flex" href="/blog/proto-v0.42"><span class="inline-block mr-1 icon-previous" aria-hidden="true"><span></span></span><span>proto v0.42 - New bin linking, JSON/YAML plugins, and more</span></a></div><div class="flex-1 text-right"><a class="cursor-pointer text-base text-blurple-300 hover:text-blurple-500 dark:text-purple-400 dark:hover:text-purple-200 font-bold inline-flex" href="/blog/moon-v1.28"><span>moon v1.28 - Task presets, OS tasks, meta tokens, and more</span><span class="inline-block ml-1 icon-next" aria-hidden="true"><span></span></span></a></div></nav></main><div class="col col--2"><div class="tableOfContents_XG6w thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#new-affected-projects-tracker" class="table-of-contents__link toc-highlight">New affected projects tracker</a><ul><li><a href="#control-upstream--downstream-depth" class="table-of-contents__link toc-highlight">Control upstream / downstream depth</a></li><li><a href="#what-about-tasks" class="table-of-contents__link toc-highlight">What about tasks?</a></li></ul></li><li><a href="#experimental-support-for-pkl-based-configuration" class="table-of-contents__link toc-highlight">Experimental support for Pkl based configuration</a><ul><li><a href="#advanced-examples" class="table-of-contents__link toc-highlight">Advanced examples</a></li><li><a href="#caveats-and-restrictions" class="table-of-contents__link toc-highlight">Caveats and restrictions</a></li><li><a href="#how-to-use-pkl" class="table-of-contents__link toc-highlight">How to use Pkl?</a></li><li><a href="#what-about-x-instead" class="table-of-contents__link toc-highlight">What about X instead?</a></li></ul></li><li><a href="#looking-for-contributors" class="table-of-contents__link toc-highlight">Looking for contributors!</a></li><li><a href="#other-changes" class="table-of-contents__link toc-highlight">Other changes</a></li></ul></div></div></div></div></div><footer class="bg-gray-100 dark:bg-slate-600" aria-labelledby="footer-heading"><h2 id="footer-heading" class="sr-only">Footer</h2><div class="max-w-7xl mx-auto py-3 px-2 sm:px-3 md:py-4 md:px-4 lg:px-6"><div class="lg:grid lg:grid-cols-5 lg:gap-3"><div class="grid grid-cols-3 gap-3 lg:col-span-3"><div><h6 class="m-0 text-base font-semibold uppercase">Learn</h6><ul role="list" class="m-0 mt-2 p-0 space-y-1 list-none"><li><a class="cursor-pointer text-base text-blurple-300 hover:text-blurple-500 dark:text-purple-400 dark:hover:text-purple-200 font-normal" href="/docs">Docs</a></li><li><a class="cursor-pointer text-base text-blurple-300 hover:text-blurple-500 dark:text-purple-400 dark:hover:text-purple-200 font-normal" href="/docs/guides/ci">Guides</a></li><li><a class="cursor-pointer text-base text-blurple-300 hover:text-blurple-500 dark:text-purple-400 dark:hover:text-purple-200 font-normal" href="/blog">Blog</a></li></ul></div><div><h6 class="m-0 text-base font-semibold uppercase">Ecosystem</h6><ul role="list" class="m-0 mt-2 p-0 space-y-1 list-none"><li><a href="https://github.com/moonrepo/moon/releases" target="_blank" rel="noopener noreferrer" class="cursor-pointer text-base text-blurple-300 hover:text-blurple-500 dark:text-purple-400 dark:hover:text-purple-200 font-normal">Releases</a></li><li><a href="https://github.com/moonrepo/moon-configs" target="_blank" rel="noopener noreferrer" class="cursor-pointer text-base text-blurple-300 hover:text-blurple-500 dark:text-purple-400 dark:hover:text-purple-200 font-normal">Shared configs</a></li><li><a href="https://github.com/moonrepo/dev" target="_blank" rel="noopener noreferrer" class="cursor-pointer text-base text-blurple-300 hover:text-blurple-500 dark:text-purple-400 dark:hover:text-purple-200 font-normal">Developer tools</a></li><li><a href="https://github.com/moonrepo/examples" target="_blank" rel="noopener noreferrer" class="cursor-pointer text-base text-blurple-300 hover:text-blurple-500 dark:text-purple-400 dark:hover:text-purple-200 font-normal">Examples repository</a></li></ul></div><div><h6 class="m-0 text-base font-semibold uppercase">Support</h6><ul role="list" class="m-0 mt-2 p-0 space-y-1 list-none"><li><a href="https://github.com/moonrepo" target="_blank" rel="noopener noreferrer" class="cursor-pointer text-base text-blurple-300 hover:text-blurple-500 dark:text-purple-400 dark:hover:text-purple-200 font-normal">GitHub</a></li><li><a href="https://discord.gg/qCh9MEynv2" target="_blank" rel="noopener noreferrer" class="cursor-pointer text-base text-blurple-300 hover:text-blurple-500 dark:text-purple-400 dark:hover:text-purple-200 font-normal">Discord</a></li><li><a href="https://twitter.com/tothemoonrepo" target="_blank" rel="noopener noreferrer" class="cursor-pointer text-base text-blurple-300 hover:text-blurple-500 dark:text-purple-400 dark:hover:text-purple-200 font-normal">Twitter</a></li></ul></div></div><div class="mt-4 lg:mt-0 col-span-2"><h6 class="m-0 text-base font-semibold uppercase">Contact us</h6><p class="text-base text-gray-800 dark:text-slate-100 font-normal">Want to learn more about moonrepo? Have questions?</p><div class="mt-2"><div class="flex justify-between gap-x-1"><div class="w-3/4"><label for="subject" class="sr-only">Subject</label><select id="subject" name="subject" required="" class="outline-none min-w-0 w-full bg-white border border-transparent rounded-md px-1 py-1 text-base text-gray-800 placeholder-gray-600 h-full font-sans"><option value="" selected=""></option><option value="Consultation">Consultation</option><option value="Partnership">Partnership</option><option value="Affiliation">Affiliation</option></select></div><button class="border border-transparent rounded-md px-2 flex items-center justify-center text-base font-bold text-white bg-blurple-400 dark:bg-purple-600 opacity-60 py-1 w-1/4" disabled="" id="contact-next" type="button">Next</button></div></div><div class="mt-4 flex justify-end items-start gap-1"><div><p class="text-sm text-gray-800 dark:text-slate-100 font-normal">Backed by</p></div><div><svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" id="Layer_1" x="0" y="0" viewBox="0 0 1604 320" height="22"><style>.st0{fill-rule:evenodd;clip-rule:evenodd;fill:#fb651e}</style><g id="Group-19"><path id="Fill-1" d="M0 320h320V0H0z" class="st0"></path><path id="Fill-2" d="M173 175.9V247h-27v-71.1L77.1 73H110l49.6 76L209 73h32.9z" style="fill-rule:evenodd;clip-rule:evenodd;fill:#fff"></path><g id="Group-18" transform="translate(425.854 73.217)"><path id="Fill-3" d="M81.8 34.1C52.2 34.1 30 57 30 86.6s22.2 52.7 51.8 52.7c19 0 35.5-9.8 44.4-26.3l25.4 15.1c-14.2 24.3-40.8 40.1-69.8 40.1C36.2 168.1 0 131.9 0 86.6 0 41.2 36.2 5 81.8 5c29.3 0 55.6 15.6 69.8 40.1l-25.4 15.1c-9-16.5-25.4-26.1-44.4-26.1" class="st0"></path><path id="Fill-5" d="M249.2 107.2c0-18.5-13.5-32.5-30.9-32.5-17.9 0-31.4 14-31.4 32.5s13.5 32.5 31.4 32.5c17.1 0 30.9-14 30.9-32.5m-91.4 0c0-33.4 26.8-60.2 60.5-60.2 33.2 0 60 26.8 60 60.2s-26.8 60.2-60 60.2c-33.7 0-60.5-26.8-60.5-60.2" class="st0"></path><path id="Fill-7" d="M467.1 97.6v67.2h-29v-62.1c0-17.4-8.5-28.4-21.3-28.4-13.1 0-22.7 11-22.7 28.4v62.1h-28v-62.1c0-17.4-8.8-28.4-21.7-28.4s-22.3 11-22.3 28.4v62.1h-29v-115h29v14.7c7.1-11 18.1-17.9 31.6-17.9 14.7 0 26.3 8.3 33.4 21.2 7.3-11.5 20.8-21.2 37.8-21.2 25.5 0 42.2 22.5 42.2 51" class="st0"></path><path id="Fill-9" d="M570.2 108.4c0-19.2-11.9-33-28.6-33-16.3 0-28.6 13.1-28.6 32.7 0 19.5 12.6 32.7 29.1 32.7 16.2-.1 28.1-13.6 28.1-32.4m-22.5 59.4c-16 0-27.8-7.3-34.6-17.4v14.4h-29V4.8h29v59c7-9.4 18.8-16.2 34.1-16.2 29.7 0 52.4 25.6 52.9 60.1.5 34.9-22.7 60.1-52.4 60.1" class="st0"></path><path id="Fill-11" d="M612.1 164.8h29v-115h-29zm-3.7-147.6c0-9.8 8.2-17.2 18.1-17.2 9.6 0 17.6 7.3 17.6 17.2 0 9.8-8 17.2-17.6 17.2-9.8-.1-18.1-7.4-18.1-17.2" class="st0"></path><path id="Fill-13" d="M766.1 98.1v66.7h-28v-60.5c0-18.5-9.7-30-23.7-30-15.4 0-26.3 14-26.3 30.5v60h-28v-115h28v14.5c7.8-10.8 20.3-17.7 34.9-17.7 25.8 0 43.1 22 43.1 51.5" class="st0"></path><path id="Fill-14" d="M854.1 113.8v-2.5l-29.3 5.7c-9.8 2.3-15.8 7.3-15.8 14 0 7.1 6.5 12.4 17.2 12.1 15.4-.5 27.9-13.9 27.9-29.3m28-18.4v69.4h-28v-13.3c-8.5 9.2-21.8 16-36.5 16.3-19.5 0-36.7-12.8-36.7-34.8 0-20.8 15.6-32.7 38.8-37.3l33.7-6.4c-2.3-9.6-9.6-16.9-20.7-16.9-11 0-21.3 6.9-27.5 15.6l-21.1-15.3c10.8-15.1 29.8-25.2 48.7-25.2 28.2-.2 49.3 19.3 49.3 47.9" class="st0"></path><path id="Fill-15" d="M941.1 75.8V124c0 9.4 4.1 13.7 12.6 13.7h14.4v27h-18.4c-24.5 0-36.6-12-36.6-37.2V75.8h-21v-26h20V21.4l29-8.9v37.3h27v26z" class="st0"></path><path id="Fill-16" d="M1069 107.2c0-18.5-13.5-32.5-30.9-32.5-17.9 0-31.4 14-31.4 32.5s13.5 32.5 31.4 32.5c17.1 0 30.9-14 30.9-32.5m-91.4 0c0-33.4 26.8-60.2 60.5-60.2 33.2 0 60 26.8 60 60.2s-26.8 60.2-60 60.2c-33.7 0-60.5-26.8-60.5-60.2" class="st0"></path><path id="Fill-17" d="M1178.1 47.3v27.9c-25.9 0-37 12.6-37 29.1v60.5h-28v-115h28v14.4c7.9-10.3 20.6-16.9 37-16.9" class="st0"></path></g></g></svg></div></div></div></div><div class="mt-3 pt-3 md:mt-4 md:pt-4 border-0 border-t border-solid border-gray-200 dark:border-slate-400 flex items-center justify-between"><div class="text-sm text-gray-800 dark:text-slate-100 font-normal m-0"><div class="footer__copyright">Copyright © 2025, moonrepo, Inc.</div></div><div class="flex space-x-2"><a href="https://github.com/moonrepo" target="_blank" rel="noopener noreferrer" class="cursor-pointer text-base text-blurple-300 hover:text-blurple-500 dark:text-purple-400 dark:hover:text-purple-200 font-normal"><span class="sr-only">GitHub</span><span class="inline-block" aria-hidden="true"><span></span></span></a><a href="https://discord.gg/qCh9MEynv2" target="_blank" rel="noopener noreferrer" class="cursor-pointer text-base text-blurple-300 hover:text-blurple-500 dark:text-purple-400 dark:hover:text-purple-200 font-normal"><span class="sr-only">Discord</span><span class="inline-block" aria-hidden="true"><span></span></span></a><a href="https://twitter.com/tothemoonrepo" target="_blank" rel="noopener noreferrer" class="cursor-pointer text-base text-blurple-300 hover:text-blurple-500 dark:text-purple-400 dark:hover:text-purple-200 font-normal"><span class="sr-only">Twitter</span><span class="inline-block" aria-hidden="true"><span></span></span></a></div></div></div></footer></div>
</body>
</html>