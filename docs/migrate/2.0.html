<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-migrate/2.0" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Migrate to moon v2.0 | moonrepo</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://moonrepo.dev/docs/migrate/2.0"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="moon, repo, moonrepo, task, runner, build, system, ci, times, devx, developer, experience, tooling, tools, monorepo, polyrepo, productivity, platform, proto, toolchain"><meta data-rh="true" name="og:image" content="https://moonrepo.dev/img/hero/slate-bg.jpg"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Migrate to moon v2.0 | moonrepo"><meta data-rh="true" name="description" content="To ease the migration process from moon v1 to v2, we&#x27;ve compiled a list of all breaking changes and"><meta data-rh="true" property="og:description" content="To ease the migration process from moon v1 to v2, we&#x27;ve compiled a list of all breaking changes and"><link data-rh="true" rel="icon" href="/img/favicon.svg"><link data-rh="true" rel="canonical" href="https://moonrepo.dev/docs/migrate/2.0"><link data-rh="true" rel="alternate" href="https://moonrepo.dev/docs/migrate/2.0" hreflang="en"><link data-rh="true" rel="alternate" href="https://moonrepo.dev/docs/migrate/2.0" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://400S075OEM-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="moonrepo RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="moonrepo Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-LB233GTZD3"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-LB233GTZD3",{})</script>



<link rel="search" type="application/opensearchdescription+xml" title="moonrepo" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.e6dcddd9.css">
<script src="/assets/js/runtime~main.d1874bb0.js" defer="defer"></script>
<script src="/assets/js/main.ff931658.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_oPtH" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="moon" class="themedComponent_siVc themedComponent--light_hHel"><img src="/img/logo.svg" alt="moon" class="themedComponent_siVc themedComponent--dark_yETr"></div></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Products</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/moon"><strong class="block mr-2">moon</strong><div class="opacity-60">Build system for managing codebases</div></a></li><li><a class="dropdown__link" href="/proto"><strong class="block mr-2">proto</strong><div class="opacity-60">Multi-language version manager</div></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Docs</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs"><strong>moon</strong></a></li><li><a class="dropdown__link" href="/docs/proto"><strong>proto</strong></a></li></ul></div><a class="navbar__item navbar__link" href="/docs/guides/ci">Guides</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a href="https://github.com/moonrepo" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="toggle_ki11 colorModeToggle_Hewu"><button class="clean-btn toggleButton_MMFG toggleButtonDisabled_Uw7m" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_k9hJ lightToggleIcon_lgto"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_k9hJ darkToggleIcon_U96C"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_k9hJ systemToggleIcon_E5c0"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_bzqh"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Meta+k)" aria-keyshortcuts="Meta+k"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 24 24" aria-hidden="true"><circle cx="11" cy="11" r="8" stroke="currentColor" fill="none" stroke-width="1.4"></circle><path d="m21 21-4.3-4.3" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_MB5r"><div class="docsWrapper__sE8"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_iEvu" type="button"></button><div class="docRoot_DfVB"><aside class="theme-doc-sidebar-container docSidebarContainer_c7NB"><div class="sidebarViewport_KYo0"><div class="sidebar_CUen"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_jmj1"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs"><span title="Introduction" class="linkLabel_fEdy">Introduction</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/install"><span title="Install moon" class="linkLabel_fEdy">Install moon</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_ROYx menu__link menu__link--sublist" href="/docs/how-it-works"><span title="How it works" class="categoryLinkLabel_ufhF">How it works</span></a><button aria-label="Expand sidebar category &#x27;How it works&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_ROYx menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/docs/setup-workspace"><span title="Getting started" class="categoryLinkLabel_ufhF">Getting started</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/setup-workspace"><span title="Setup workspace" class="linkLabel_fEdy">Setup workspace</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/create-project"><span title="Create a project" class="linkLabel_fEdy">Create a project</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/setup-toolchain"><span title="Setup toolchain" class="linkLabel_fEdy">Setup toolchain</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/create-task"><span title="Create a task" class="linkLabel_fEdy">Create a task</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/run-task"><span title="Run a task" class="linkLabel_fEdy">Run a task</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/migrate-to-moon"><span title="Migrate to moon" class="linkLabel_fEdy">Migrate to moon</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_ROYx menu__link menu__link--sublist" href="/docs/concepts"><span title="Concepts" class="categoryLinkLabel_ufhF">Concepts</span></a><button aria-label="Expand sidebar category &#x27;Concepts&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_ROYx menu__link menu__link--sublist" href="/docs/config"><span title="Config files" class="categoryLinkLabel_ufhF">Config files</span></a><button aria-label="Expand sidebar category &#x27;Config files&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_ROYx menu__link menu__link--sublist" href="/docs/editors"><span title="Editors" class="categoryLinkLabel_ufhF">Editors</span></a><button aria-label="Expand sidebar category &#x27;Editors&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_ROYx menu__link menu__link--sublist" href="/docs/commands"><span title="Commands" class="categoryLinkLabel_ufhF">Commands</span></a><button aria-label="Expand sidebar category &#x27;Commands&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_ROYx menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/migrate/2.0"><span title="Migrations" class="categoryLinkLabel_ufhF">Migrations</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/migrate/2.0"><span title="v2.0" class="linkLabel_fEdy">v2.0</span></a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/cheat-sheet"><span title="Cheat sheet" class="linkLabel_fEdy">Cheat sheet</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/comparison"><span title="Feature comparison" class="linkLabel_fEdy">Feature comparison</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/terminology"><span title="Terminology" class="linkLabel_fEdy">Terminology</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/faq"><span title="FAQ" class="linkLabel_fEdy">FAQ</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href="https://github.com/moonrepo/moon/releases" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_BiEj"><span title="Changelog" class="linkLabel_fEdy">Changelog</span><svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPrP"><use href="#theme-svg-external-link"></use></svg></a></li></ul></nav></div></div></aside><main class="docMainContainer_a9sJ"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_Qr34"><div class="docItemContainer_tjFy"><article><span class="float-right ml-2"></span><nav class="flex pl-1 mb-2" aria-label="Breadcrumb"><ol role="list" class="list-none p-0 m-0 flex items-center space-x-2" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li><a class="cursor-pointer text-base text-gray-700 hover:text-gray-800 dark:text-gray-600 dark:hover:text-gray-500 font-normal" href="/"><span class="inline-block flex-shrink-0" aria-hidden="true" style="padding-top:5px"><span></span></span><span class="sr-only">Home</span></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem"><div class="flex items-center"><span class="inline-block flex-shrink-0 text-gray-600 mr-2" aria-hidden="true"><span></span></span><span class="text-sm text-gray-800 dark:text-slate-100 font-medium m-0">Migrations</span><meta itemprop="position" content="1"></div></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem"><div class="flex items-center"><span class="inline-block flex-shrink-0 text-gray-600 mr-2" aria-hidden="true"><span></span></span><a class="cursor-pointer text-sm text-gray-700 hover:text-gray-800 dark:text-gray-600 dark:hover:text-gray-500 font-medium" aria-current="page" itemprop="item" href="/docs/migrate/2.0"><span itemprop="name">v2.0</span></a><meta itemprop="position" content="2"></div></li></ol></nav><div><div class="theme-admonition theme-admonition-warning admonition_WCGJ alert alert--warning"><div class="admonitionHeading_GCBg"><span class="admonitionIcon_L39b"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_pbrs"><p>Documentation is currently for <a href="/blog/moon-v2-alpha">moon v2</a> and latest proto. Documentation for moon v1 has been frozen and can be<!-- --> <a href="https://moonrepo.github.io/website-v1/">found here</a>.</p></div></div></div><div class="tocCollapsible_wXna theme-doc-toc-mobile tocMobile_Ojys"><button type="button" class="clean-btn tocCollapsibleButton_iI2p">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Migrate to moon v2.0</h1></header><p>To ease the migration process from moon v1 to v2, we&#x27;ve compiled a list of all breaking changes and
important changes that you should be aware of. Please read through these carefully before upgrading
your workspace.</p>
<p>To automate some of the migration process, we&#x27;ve created the <code>moon migrate v2</code> command that will
migrate all applicable settings in configuration files.</p>
<div class="language-shell codeBlockContainer_mQmQ theme-code-block" style="--prism-background-color:#00080f;--prism-color:#e5e9f1"><div class="codeBlockContent_t_Hd"><pre tabindex="0" class="prism-code language-shell codeBlock_RMoD thin-scrollbar" style="background-color:#00080f;color:#e5e9f1"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#e5e9f1"><span class="token plain">$ moon migrate v2</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_tleR" id="cli">CLI<a href="#cli" class="hash-link" aria-label="Direct link to CLI" title="Direct link to CLI" translate="no">​</a></h2>
<ul>
<li class="">Removed <code>x86_64-apple-darwin</code> (Apple Intel) as a supported operating system. Only
<code>aarch64-apple-darwin</code> (Apple Silicon) is now supported.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_tleR" id="commands">Commands<a href="#commands" class="hash-link" aria-label="Direct link to Commands" title="Direct link to Commands" translate="no">​</a></h3>
<ul>
<li class="">We&#x27;ve done a large polish pass for all commands, based on the <a href="https://clig.dev" target="_blank" rel="noopener noreferrer" class="">CLI guidelines</a>.</li>
<li class="">Updated the <code>moonx</code> binary to use <code>moon exec</code> instead of <code>moon run</code> under the hood.</li>
<li class="">Renamed all options and flags to kebab-case instead of camelCase.<!-- -->
<ul>
<li class="">Example: <code>--logLevel</code> -&gt; <code>--log-level</code></li>
</ul>
</li>
<li class="">Renamed options for all commands:<!-- -->
<ul>
<li class=""><code>--platform</code> -&gt; <code>--toolchain</code></li>
</ul>
</li>
<li class="">Removed commands:<!-- -->
<ul>
<li class=""><code>moon node</code></li>
<li class=""><code>moon migrate from-package-json</code> (use the <code>migrate-turborepo</code> extension instead)</li>
<li class=""><code>moon query hash</code> (use <code>moon hash</code> instead)</li>
<li class=""><code>moon query hash-diff</code> (use <code>moon hash</code> instead)</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_tleR" id="moon-action-graph"><code>moon action-graph</code><a href="#moon-action-graph" class="hash-link" aria-label="Direct link to moon-action-graph" title="Direct link to moon-action-graph" translate="no">​</a></h4>
<ul>
<li class="">Changed the output of <code>--json</code> to a new JSON structure (now matches the project and task graphs).</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_tleR" id="moon-check"><code>moon check</code><a href="#moon-check" class="hash-link" aria-label="Direct link to moon-check" title="Direct link to moon-check" translate="no">​</a></h4>
<ul>
<li class="">Now runs <code>moon exec</code> under the hood, with some arguments/options pre-filled.</li>
<li class="">If the project ID is not specifed, it will no longer find the closest project. Instead you must
pass <code>--closest</code>.</li>
<li class="">Renamed options:<!-- -->
<ul>
<li class=""><code>--update-cache, -u</code> -&gt; <code>--force, -f</code></li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_tleR" id="moon-ci"><code>moon ci</code><a href="#moon-ci" class="hash-link" aria-label="Direct link to moon-ci" title="Direct link to moon-ci" translate="no">​</a></h4>
<ul>
<li class="">Now runs <code>moon exec</code> under the hood, with some arguments/options pre-filled.</li>
<li class="">Renamed options:<!-- -->
<ul>
<li class=""><code>--update-cache, -u</code> -&gt; <code>--force, -f</code></li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_tleR" id="moon-generate"><code>moon generate</code><a href="#moon-generate" class="hash-link" aria-label="Direct link to moon-generate" title="Direct link to moon-generate" translate="no">​</a></h4>
<ul>
<li class="">Changed the destination from a positional argument, to the <code>--to</code> option.<!-- -->
<ul>
<li class="">Example: <code>moon generate &lt;id&gt; ./dist</code> -&gt; <code>moon generate &lt;id&gt; --to ./dist</code></li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_tleR" id="moon-init"><code>moon init</code><a href="#moon-init" class="hash-link" aria-label="Direct link to moon-init" title="Direct link to moon-init" translate="no">​</a></h4>
<ul>
<li class="">Removed &quot;scaffolding a toolchain&quot; functionality from the command. Use the <code>moon toolchain add</code>
command instead.</li>
<li class="">Removed options:<!-- -->
<ul>
<li class=""><code>--to</code> (use a positional argument instead)</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_tleR" id="moon-mcp"><code>moon mcp</code><a href="#moon-mcp" class="hash-link" aria-label="Direct link to moon-mcp" title="Direct link to moon-mcp" translate="no">​</a></h4>
<ul>
<li class="">Updated protocol version to 2025-11-25.</li>
<li class="">Updated the <code>get_projects</code> tool to no longer have an <code>includeTasks</code> option.</li>
<li class="">Updated the <code>get_projects</code> tool to return a list of project fragments, instead of the whole
project object. This was required as the response was too large for MCP.</li>
<li class="">Updated the <code>get_tasks</code> tool to return a list of task fragments, instead of the whole task object.
This was required as the response was too large for MCP.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_tleR" id="moon-query-projects"><code>moon query projects</code><a href="#moon-query-projects" class="hash-link" aria-label="Direct link to moon-query-projects" title="Direct link to moon-query-projects" translate="no">​</a></h4>
<ul>
<li class="">Removed options:<!-- -->
<ul>
<li class=""><code>--dependents</code></li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_tleR" id="moon-run"><code>moon run</code><a href="#moon-run" class="hash-link" aria-label="Direct link to moon-run" title="Direct link to moon-run" translate="no">​</a></h4>
<ul>
<li class="">Now runs <code>moon exec</code> under the hood, with some arguments/options pre-filled.</li>
<li class="">Updated options:<!-- -->
<ul>
<li class=""><code>--dependents</code> now requires a value, either <code>deep</code> or <code>direct</code></li>
</ul>
</li>
<li class="">Renamed options:<!-- -->
<ul>
<li class=""><code>--update-cache, -u</code> -&gt; <code>--force, -f</code></li>
</ul>
</li>
<li class="">Removed options:<!-- -->
<ul>
<li class=""><code>--no-bail</code> (use <code>moon exec</code> instead)</li>
<li class=""><code>--profile</code></li>
<li class=""><code>--remote</code> (use <code>--affected remote</code> instead)</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_tleR" id="moon-templates"><code>moon templates</code><a href="#moon-templates" class="hash-link" aria-label="Direct link to moon-templates" title="Direct link to moon-templates" translate="no">​</a></h4>
<ul>
<li class="">Changed the output to render a table instead of a list.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_tleR" id="moon-run-1"><code>moon run</code><a href="#moon-run-1" class="hash-link" aria-label="Direct link to moon-run-1" title="Direct link to moon-run-1" translate="no">​</a></h4>
<ul>
<li class="">Running a target without a scope no longer locates the closest project and instead uses the new
default project feature. To run a target in the closets project, use <code>~:</code> scope instead.<!-- -->
<ul>
<li class="">Example: <code>moon run build</code> -&gt; <code>moon run ~:build</code></li>
</ul>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_tleR" id="workspace">Workspace<a href="#workspace" class="hash-link" aria-label="Direct link to Workspace" title="Direct link to Workspace" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_tleR" id="configuration-moonworkspace">Configuration: <code>.moon/workspace.*</code><a href="#configuration-moonworkspace" class="hash-link" aria-label="Direct link to configuration-moonworkspace" title="Direct link to configuration-moonworkspace" translate="no">​</a></h3>
<ul>
<li class="">Renamed setting values:<!-- -->
<ul>
<li class=""><code>codeowners.orderBy</code> value <code>project-name</code> -&gt; <code>project-id</code></li>
</ul>
</li>
<li class="">Renamed settings:<!-- -->
<ul>
<li class=""><code>codeowners.syncOnRun</code> -&gt; <code>codeowners.sync</code></li>
<li class=""><code>constraints.enforceProjectTypeRelationships</code> -&gt; <code>constraints.enforceLayerRelationships</code></li>
<li class=""><code>docker.prune.installToolchainDeps</code> -&gt; <code>docker.prune.installToolchainDependencies</code></li>
<li class=""><code>docker.scaffold.include</code> -&gt; <code>docker.scaffold.configsPhaseGlobs</code></li>
<li class=""><code>runner</code> -&gt; <code>pipeline</code></li>
<li class=""><code>unstable_remote</code> -&gt; <code>remote</code></li>
<li class=""><code>vcs.manager</code> -&gt; <code>vcs.client</code></li>
<li class=""><code>vcs.syncHooks</code> -&gt; <code>vcs.sync</code></li>
</ul>
</li>
<li class="">Removed settings:<!-- -->
<ul>
<li class=""><code>docker.scaffold.copyToolchainFiles</code></li>
<li class=""><code>experiments.*</code></li>
<li class=""><code>hasher.batchSize</code></li>
<li class=""><code>pipeline.archivableTargets</code></li>
</ul>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_tleR" id="toolchains">Toolchains<a href="#toolchains" class="hash-link" aria-label="Direct link to Toolchains" title="Direct link to Toolchains" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_tleR" id="configuration-moontoolchain">Configuration: <code>.moon/toolchain.*</code><a href="#configuration-moontoolchain" class="hash-link" aria-label="Direct link to configuration-moontoolchain" title="Direct link to configuration-moontoolchain" translate="no">​</a></h3>
<ul>
<li class="">This file was renamed to <code>.moon/toolchains.*</code> (plural) to reflect that multiple toolchains are
configured. This also aligns with the new <code>.moon/extensions.*</code> file.</li>
<li class="">All toolchains have been stabilized, so the <code>unstable_</code> prefix must be removed from identifiers.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_tleR" id="javascript">JavaScript<a href="#javascript" class="hash-link" aria-label="Direct link to JavaScript" title="Direct link to JavaScript" translate="no">​</a></h4>
<p>The <code>bun</code>, <code>deno</code>, and <code>node</code> toolchains now require the <code>javascript</code> toolchain to be defined as
well. All shared settings have been moved to the <code>javascript</code> toolchain.</p>
<p>In addition, all <code>node</code> package managers are no longer nested under the <code>node</code> toolchain, but are
now top-level settings. These are only required when the <code>javascript.packageManager</code> setting is
defined.</p>
<ul>
<li class="">Moved settings:<!-- -->
<ul>
<li class=""><code>bun.dependencyVersionFormat</code> -&gt; <code>javascript.dependencyVersionFormat</code></li>
<li class=""><code>bun.inferTasksFromScripts</code> -&gt; <code>javascript.inferTasksFromScripts</code></li>
<li class=""><code>bun.rootPackageOnly</code> -&gt; <code>javascript.rootPackageDependenciesOnly</code></li>
<li class=""><code>bun.syncProjectWorkspaceDependencies</code> -&gt; <code>javascript.syncProjectWorkspaceDependencies</code></li>
<li class=""><code>node.dependencyVersionFormat</code> -&gt; <code>javascript.dependencyVersionFormat</code></li>
<li class=""><code>node.dedupeOnLockfileChange</code> -&gt; <code>javascript.dedupeOnLockfileChange</code></li>
<li class=""><code>node.inferTasksFromScripts</code> -&gt; <code>javascript.inferTasksFromScripts</code></li>
<li class=""><code>node.packageManager</code> -&gt; <code>javascript.packageManager</code></li>
<li class=""><code>node.rootPackageOnly</code> -&gt; <code>javascript.rootPackageDependenciesOnly</code></li>
<li class=""><code>node.syncPackageManagerField</code> -&gt; <code>javascript.syncPackageManagerField</code></li>
<li class=""><code>node.syncProjectWorkspaceDependencies</code> -&gt; <code>javascript.syncProjectWorkspaceDependencies</code></li>
<li class=""><code>node.bun</code> -&gt; <code>bun</code></li>
<li class=""><code>node.npm</code> -&gt; <code>npm</code></li>
<li class=""><code>node.pnpm</code> -&gt; <code>pnpm</code></li>
<li class=""><code>node.yarn</code> -&gt; <code>yarn</code></li>
</ul>
</li>
<li class="">Renamed settings:<!-- -->
<ul>
<li class=""><code>node.binExecArgs</code> -&gt; <code>node.executeArgs</code></li>
</ul>
</li>
<li class="">Removed settings:<!-- -->
<ul>
<li class=""><code>bun.packagesRoot</code></li>
<li class=""><code>deno.depsFile</code></li>
<li class=""><code>deno.lockfile</code></li>
<li class=""><code>node.addEnginesConstraint</code></li>
<li class=""><code>node.packagesRoot</code></li>
</ul>
</li>
</ul>
<div class="language-yaml codeBlockContainer_mQmQ theme-code-block" style="--prism-background-color:#00080f;--prism-color:#e5e9f1"><div class="codeBlockTitle_kY6l">.moon/toolchains.yml</div><div class="codeBlockContent_t_Hd"><pre tabindex="0" class="prism-code language-yaml codeBlock_RMoD thin-scrollbar" style="background-color:#00080f;color:#e5e9f1"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#e5e9f1"><span class="token comment" style="color:#97a1af;font-style:italic"># Before</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain"></span><span class="token key atrule">node</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  </span><span class="token key atrule">version</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"> </span><span class="token string" style="color:#c9e166">&#x27;22.14.0&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  </span><span class="token key atrule">packageManager</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"> </span><span class="token string" style="color:#c9e166">&#x27;yarn&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  </span><span class="token key atrule">inferTasksFromScripts</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#94dded">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  </span><span class="token key atrule">syncPackageManagerField</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#94dded">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  </span><span class="token key atrule">syncProjectWorkspaceDependencies</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#94dded">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  </span><span class="token key atrule">yarn</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    </span><span class="token key atrule">version</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"> </span><span class="token string" style="color:#c9e166">&#x27;4.8.0&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain"></span><span class="token comment" style="color:#97a1af;font-style:italic"># After</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain"></span><span class="token key atrule">javascript</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  </span><span class="token key atrule">packageManager</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"> </span><span class="token string" style="color:#c9e166">&#x27;yarn&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  </span><span class="token key atrule">inferTasksFromScripts</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#94dded">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  </span><span class="token key atrule">syncPackageManagerField</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#94dded">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  </span><span class="token key atrule">syncProjectWorkspaceDependencies</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#94dded">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain"></span><span class="token key atrule">node</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  </span><span class="token key atrule">version</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"> </span><span class="token string" style="color:#c9e166">&#x27;22.14.0&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain"></span><span class="token key atrule">yarn</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  </span><span class="token key atrule">version</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"> </span><span class="token string" style="color:#c9e166">&#x27;4.8.0&#x27;</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_tleR" id="extensions">Extensions<a href="#extensions" class="hash-link" aria-label="Direct link to Extensions" title="Direct link to Extensions" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_tleR" id="configuration-moonextensions">Configuration: <code>.moon/extensions.*</code><a href="#configuration-moonextensions" class="hash-link" aria-label="Direct link to configuration-moonextensions" title="Direct link to configuration-moonextensions" translate="no">​</a></h3>
<ul>
<li class="">The <code>extensions</code> setting from <code>.moon/workspace.*</code> has been moved (and flattened) to its own file,
<code>.moon/extensions.*</code>.</li>
<li class="">The built-in extensions <code>download</code>, <code>migrate-nx</code>, and <code>migrate-turborepo</code> must now be enabled in
the configuration file before they can be used. Simply set an empty object.<!-- -->
<ul>
<li class="">This change was made to reduce the number of extensions that are loaded by default, improving
performance.</li>
</ul>
</li>
</ul>
<div class="language-yaml codeBlockContainer_mQmQ theme-code-block" style="--prism-background-color:#00080f;--prism-color:#e5e9f1"><div class="codeBlockTitle_kY6l">.moon/extensions.yml</div><div class="codeBlockContent_t_Hd"><pre tabindex="0" class="prism-code language-yaml codeBlock_RMoD thin-scrollbar" style="background-color:#00080f;color:#e5e9f1"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#e5e9f1"><span class="token key atrule">download</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#cad4e2">{</span><span class="token punctuation" style="color:#cad4e2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain"></span><span class="token key atrule">migrate-nx</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#cad4e2">{</span><span class="token punctuation" style="color:#cad4e2">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_tleR" id="project">Project<a href="#project" class="hash-link" aria-label="Direct link to Project" title="Direct link to Project" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_tleR" id="configuration-moon">Configuration: <code>moon.*</code><a href="#configuration-moon" class="hash-link" aria-label="Direct link to configuration-moon" title="Direct link to configuration-moon" translate="no">​</a></h3>
<ul>
<li class="">Renamed settings:<!-- -->
<ul>
<li class=""><code>docker.scaffold.include</code> -&gt; <code>docker.scaffold.sourcesPhaseGlobs</code></li>
<li class=""><code>project.name</code> -&gt; <code>project.title</code></li>
<li class=""><code>type</code> -&gt; <code>layer</code></li>
<li class=""><code>toolchain</code> -&gt; <code>toolchains</code></li>
<li class=""><code>platform</code> -&gt; <code>toolchains.default</code></li>
</ul>
</li>
<li class="">Removed settings:<!-- -->
<ul>
<li class=""><a href="#custom-metadata" class=""><code>project.metadata</code></a></li>
<li class=""><a href="#toolchain-disabling" class=""><code>toolchain.*.disabled</code></a></li>
</ul>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_tleR" id="language-detection">Language detection<a href="#language-detection" class="hash-link" aria-label="Direct link to Language detection" title="Direct link to Language detection" translate="no">​</a></h3>
<p>The primary <code>language</code> is now detected from toolchains, instead of being a hardcoded implementation.
The result may now differ, as the first toolchain in the list will be used. Additionally, languages
that don&#x27;t have a toolchain yet, like PHP or Ruby, will not be detected and must be explicitly
configured.</p>
<div class="language-yaml codeBlockContainer_mQmQ theme-code-block" style="--prism-background-color:#00080f;--prism-color:#e5e9f1"><div class="codeBlockTitle_kY6l">moon.yml</div><div class="codeBlockContent_t_Hd"><pre tabindex="0" class="prism-code language-yaml codeBlock_RMoD thin-scrollbar" style="background-color:#00080f;color:#e5e9f1"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#e5e9f1"><span class="token comment" style="color:#97a1af;font-style:italic"># After</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain"></span><span class="token key atrule">language</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"> </span><span class="token string" style="color:#c9e166">&#x27;ruby&#x27;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_tleR" id="custom-metadata">Custom metadata<a href="#custom-metadata" class="hash-link" aria-label="Direct link to Custom metadata" title="Direct link to Custom metadata" translate="no">​</a></h3>
<p>The <code>project.metadata</code> setting has been removed, but all custom metadata fields can now be defined
at the root of the <code>project</code> setting.</p>
<div class="language-yaml codeBlockContainer_mQmQ theme-code-block" style="--prism-background-color:#00080f;--prism-color:#e5e9f1"><div class="codeBlockTitle_kY6l">moon.yml</div><div class="codeBlockContent_t_Hd"><pre tabindex="0" class="prism-code language-yaml codeBlock_RMoD thin-scrollbar" style="background-color:#00080f;color:#e5e9f1"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#e5e9f1"><span class="token comment" style="color:#97a1af;font-style:italic"># Before</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain"></span><span class="token key atrule">project</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  </span><span class="token key atrule">metadata</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    </span><span class="token key atrule">customField</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"> </span><span class="token string" style="color:#c9e166">&#x27;value&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain"></span><span class="token comment" style="color:#97a1af;font-style:italic"># After</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain"></span><span class="token key atrule">project</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  </span><span class="token key atrule">customField</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"> </span><span class="token string" style="color:#c9e166">&#x27;value&#x27;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_tleR" id="toolchain-disabling">Toolchain disabling<a href="#toolchain-disabling" class="hash-link" aria-label="Direct link to Toolchain disabling" title="Direct link to Toolchain disabling" translate="no">​</a></h3>
<p>The <code>toolchain.*.disabled</code> setting was removed. Instead set the toolchain itself to null/false.</p>
<div class="language-yaml codeBlockContainer_mQmQ theme-code-block" style="--prism-background-color:#00080f;--prism-color:#e5e9f1"><div class="codeBlockTitle_kY6l">moon.yml</div><div class="codeBlockContent_t_Hd"><pre tabindex="0" class="prism-code language-yaml codeBlock_RMoD thin-scrollbar" style="background-color:#00080f;color:#e5e9f1"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#e5e9f1"><span class="token comment" style="color:#97a1af;font-style:italic"># Before</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain"></span><span class="token key atrule">toolchain</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  </span><span class="token key atrule">typescript</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    </span><span class="token key atrule">disabled</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#94dded">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain"></span><span class="token comment" style="color:#97a1af;font-style:italic"># After</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain"></span><span class="token key atrule">toolchains</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  </span><span class="token key atrule">typescript</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"> </span><span class="token null important">null</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_tleR" id="tasks">Tasks<a href="#tasks" class="hash-link" aria-label="Direct link to Tasks" title="Direct link to Tasks" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_tleR" id="configuration-moon-moontasks">Configuration: <code>moon.*</code>, <code>.moon/tasks</code><a href="#configuration-moon-moontasks" class="hash-link" aria-label="Direct link to configuration-moon-moontasks" title="Direct link to configuration-moon-moontasks" translate="no">​</a></h3>
<ul>
<li class="">The file <code>.moon/tasks.yml</code> has been removed. If you want to support tasks that are inherited by
<em>all projects</em>, then move this to <code>.moon/tasks/all.yml</code> and <em>do not</em> configure the new
<code>inheritedBy</code> setting.</li>
<li class="">Renamed tokens:<!-- -->
<ul>
<li class=""><code>$projectName</code> -&gt; <code>$projectTitle</code></li>
<li class=""><code>$projectType</code> -&gt; <code>$projectLayer</code></li>
<li class=""><code>$taskPlatform</code> -&gt; <code>$taskToolchain</code></li>
</ul>
</li>
<li class="">Renamed settings:<!-- -->
<ul>
<li class=""><a href="#local-mode" class=""><code>tasks.*.local</code></a> -&gt; <code>tasks.*.preset</code> using <code>server</code> value</li>
<li class=""><code>tasks.*.platform</code> -&gt; <code>tasks.*.toolchains</code></li>
<li class=""><code>tasks.*.options.affectedPassInputs</code> -&gt; <code>tasks.*.options.affectedFiles.passInputsWhenNoMatch</code></li>
</ul>
</li>
<li class="">Removed setting values:<!-- -->
<ul>
<li class=""><code>tasks.*.preset</code> value <code>watcher</code></li>
</ul>
</li>
<li class="">Changed settings:<!-- -->
<ul>
<li class=""><code>tasks.deps.*.args</code> no longer supports a string. Use a list of strings instead.</li>
<li class=""><code>tasks.*.options.affectedFiles</code> now supports an object for more granular control.</li>
</ul>
</li>
<li class="">Changed option defaults:<!-- -->
<ul>
<li class=""><code>tasks.*.options.envFile</code> now defaults to a list of files, instead of a single file, when
<code>true</code>. Refer to the blog post for more information.</li>
<li class=""><code>tasks.*.options.inferInputs</code> now defaults to <code>false</code> instead of <code>true</code>.</li>
<li class=""><code>tasks.*.options.shell</code> now defaults to <code>true</code> instead of <code>false</code>.</li>
<li class=""><code>tasks.*.options.unixShell</code> now defaults to <code>bash</code> instead of nothing.</li>
<li class=""><code>tasks.*.options.windowsShell</code> now defaults to <code>pwsh</code> instead of nothing.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_tleR" id="simple-commands-only">Simple commands only<a href="#simple-commands-only" class="hash-link" aria-label="Direct link to Simple commands only" title="Direct link to Simple commands only" translate="no">​</a></h3>
<p>We&#x27;ve reworked <code>command</code> (and <code>args</code>) to only support simple commands. A simple command is an
executable (binary, file, etc) followed by zero or many arguments.</p>
<p>Complex commands that involve shell features like piping (<code>|</code>), redirection (<code>&gt;</code>, <code>&lt;</code>), chaining
(<code>&amp;&amp;</code>, <code>||</code>, <code>;</code>), and environment variable assignment (<code>KEY=value</code>) are no longer supported
directly in the <code>command</code> setting. Use <code>script</code> instead.</p>
<div class="language-yaml codeBlockContainer_mQmQ theme-code-block" style="--prism-background-color:#00080f;--prism-color:#e5e9f1"><div class="codeBlockTitle_kY6l">moon.yml</div><div class="codeBlockContent_t_Hd"><pre tabindex="0" class="prism-code language-yaml codeBlock_RMoD thin-scrollbar" style="background-color:#00080f;color:#e5e9f1"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#e5e9f1"><span class="token comment" style="color:#97a1af;font-style:italic"># Before</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain"></span><span class="token key atrule">tasks</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  </span><span class="token key atrule">example</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    </span><span class="token key atrule">command</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"> </span><span class="token string" style="color:#c9e166">&#x27;echo &quot;foo&quot; | grep &quot;f&quot;&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain"></span><span class="token comment" style="color:#97a1af;font-style:italic"># Before</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain"></span><span class="token key atrule">tasks</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  </span><span class="token key atrule">example</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    </span><span class="token key atrule">script</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"> </span><span class="token string" style="color:#c9e166">&#x27;echo &quot;foo&quot; | grep &quot;f&quot;&#x27;</span><br></span></code></pre></div></div>
<blockquote>
<p>Shell features like expansion, globbing, and substitution is still supported in <code>command</code>.</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_tleR" id="local-mode">Local mode<a href="#local-mode" class="hash-link" aria-label="Direct link to Local mode" title="Direct link to Local mode" translate="no">​</a></h3>
<p>The <code>local</code> task setting has been removed as the name was confusing. Users assumed it meant &quot;only
run locally&quot;, but it actually meant &quot;this is a persistent server that should only run locally&quot;.
Instead, use the <code>preset</code> setting with a value of <code>server</code>.</p>
<div class="language-yaml codeBlockContainer_mQmQ theme-code-block" style="--prism-background-color:#00080f;--prism-color:#e5e9f1"><div class="codeBlockTitle_kY6l">moon.yml</div><div class="codeBlockContent_t_Hd"><pre tabindex="0" class="prism-code language-yaml codeBlock_RMoD thin-scrollbar" style="background-color:#00080f;color:#e5e9f1"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#e5e9f1"><span class="token comment" style="color:#97a1af;font-style:italic"># Before</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain"></span><span class="token key atrule">tasks</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  </span><span class="token key atrule">dev</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    </span><span class="token key atrule">command</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"> </span><span class="token string" style="color:#c9e166">&#x27;start-dev&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    </span><span class="token key atrule">local</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#94dded">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain"></span><span class="token comment" style="color:#97a1af;font-style:italic"># Before</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain"></span><span class="token key atrule">tasks</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  </span><span class="token key atrule">dev</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    </span><span class="token key atrule">command</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"> </span><span class="token string" style="color:#c9e166">&#x27;start-dev&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    </span><span class="token key atrule">preset</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"> </span><span class="token string" style="color:#c9e166">&#x27;server&#x27;</span><br></span></code></pre></div></div>
<p>If you want a task that is simply &quot;local only&quot; without other options changes, use <code>options.runInCI</code>
directly.</p>
<div class="language-yaml codeBlockContainer_mQmQ theme-code-block" style="--prism-background-color:#00080f;--prism-color:#e5e9f1"><div class="codeBlockTitle_kY6l">moon.yml</div><div class="codeBlockContent_t_Hd"><pre tabindex="0" class="prism-code language-yaml codeBlock_RMoD thin-scrollbar" style="background-color:#00080f;color:#e5e9f1"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#e5e9f1"><span class="token key atrule">tasks</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  </span><span class="token key atrule">dev</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    </span><span class="token key atrule">command</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"> </span><span class="token string" style="color:#c9e166">&#x27;start-dev&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    </span><span class="token key atrule">options</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">      </span><span class="token key atrule">runInCI</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#94dded">false</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_tleR" id="shells-by-default">Shells by default<a href="#shells-by-default" class="hash-link" aria-label="Direct link to Shells by default" title="Direct link to Shells by default" translate="no">​</a></h3>
<p>Tasks now run in a shell by default, and will use Bash on Unix (<code>options.unixShell</code>), and pwsh on
Windows (<code>options.windowsShell</code>). You can disable this behavior by setting <code>options.shell</code> to
<code>false</code>.</p>
<div class="language-yaml codeBlockContainer_mQmQ theme-code-block" style="--prism-background-color:#00080f;--prism-color:#e5e9f1"><div class="codeBlockTitle_kY6l">moon.yml</div><div class="codeBlockContent_t_Hd"><pre tabindex="0" class="prism-code language-yaml codeBlock_RMoD thin-scrollbar" style="background-color:#00080f;color:#e5e9f1"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#e5e9f1"><span class="token key atrule">tasks</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  </span><span class="token key atrule">dev</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    </span><span class="token key atrule">command</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"> </span><span class="token string" style="color:#c9e166">&#x27;start-dev&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    </span><span class="token key atrule">options</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">      </span><span class="token key atrule">shell</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#94dded">false</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_tleR" id="env-var-substitution-behavior">Env var substitution behavior<a href="#env-var-substitution-behavior" class="hash-link" aria-label="Direct link to Env var substitution behavior" title="Direct link to Env var substitution behavior" translate="no">​</a></h3>
<p>The syntax and behavior for substituting (expanding/interpolation) environment variables has
changed, to better align with the standard of <code>.env</code> files. The biggest change is that flagless
tokens (<code>$VAR</code>) and <code>?</code> flag tokens (<code>$VAR?</code>) swapped functionality. Refer to the following table:</p>
<table><thead><tr><th>Syntax</th><th>v1</th><th>v2</th></tr></thead><tbody><tr><td><code>$VAR</code></td><td>Substitute with variable syntax (<code>$VAR</code>) if variable empty</td><td>💥 Substitute with empty string if variable empty</td></tr><tr><td><code>$VAR!</code></td><td>Don&#x27;t substitute and keep variable syntax (<code>$VAR</code>)</td><td>💥 Removed syntax</td></tr><tr><td><code>$VAR?</code></td><td>Substitute with empty string if variable empty</td><td>💥 Removed syntax</td></tr><tr><td><code>${VAR}</code></td><td>Substitute with variable syntax (<code>$VAR</code>) if variable empty</td><td>💥 Substitute with empty string if variable empty</td></tr><tr><td><code>${VAR!}</code></td><td>Don&#x27;t substitute and keep variable syntax (<code>$VAR</code>)</td><td>~</td></tr><tr><td><code>${VAR?}</code></td><td>Substitute with empty string if variable empty</td><td>💥 Substitute with variable syntax (<code>$VAR</code>) if variable empty</td></tr><tr><td><code>${VAR:default}</code></td><td>Use default value if variable empty</td><td>~</td></tr><tr><td><code>${VAR:-default}</code>, <code>${VAR-default}</code></td><td>⛔️ Not supported</td><td>Use default value if variable empty</td></tr><tr><td><code>${VAR:+alternate}</code>, <code>${VAR+alternate}</code></td><td>⛔️ Not supported</td><td>Use alternate value if variable non-empty</td></tr></tbody></table>
<p>Legend:</p>
<ul>
<li class=""><code>~</code> indicates the syntax/functionality is the same as v1</li>
<li class=""><code>💥</code> indicates breaking change</li>
<li class=""><code>⛔️</code> indicates not supported</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_tleR" id="env-var-precedence">Env var precedence<a href="#env-var-precedence" class="hash-link" aria-label="Direct link to Env var precedence" title="Direct link to Env var precedence" translate="no">​</a></h3>
<p>The order of precedence for environment variables has slightly changed when running tasks, as it was
confusing to users. The new order of precedence is as follows, from lowest to highest tier, with the
latter overwriting the former:</p>
<ul>
<li class="">Task <code>.env</code> files<!-- -->
<ul>
<li class="">via <code>options.envFile</code></li>
</ul>
</li>
<li class="">Task env variables<!-- -->
<ul>
<li class="">via <code>env</code> or <code>deps.*.env</code></li>
</ul>
</li>
<li class="">System variables<!-- -->
<ul>
<li class="">via profile scripts (<code>.bashrc</code>, <code>.zshrc</code>, etc)</li>
<li class="">via command line: <code>KEY=value moon ...</code></li>
</ul>
</li>
</ul>
<p>In regards to variable substitution, each tier can reference variables within the same tier, or the
higher tier(s), but <em>not</em> from lower tier(s). This is because variables are processed in <em>reverse
order</em>. Refer to the following table:</p>
<table><thead><tr><th>Tier</th><th>Can reference</th><th>Evaluated during</th></tr></thead><tbody><tr><td>Dotenv</td><td>Dotenv, Task, System</td><td>Before task execution</td></tr><tr><td>Task</td><td>Task, System</td><td>After task creation</td></tr><tr><td>System</td><td>System</td><td>CLI startup</td></tr></tbody></table>
<p>If you don&#x27;t want to inherit a system variable, you can override it in the task with a null value.</p>
<div class="language-yaml codeBlockContainer_mQmQ theme-code-block" style="--prism-background-color:#00080f;--prism-color:#e5e9f1"><div class="codeBlockContent_t_Hd"><pre tabindex="0" class="prism-code language-yaml codeBlock_RMoD thin-scrollbar" style="background-color:#00080f;color:#e5e9f1"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#e5e9f1"><span class="token key atrule">tasks</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  </span><span class="token key atrule">dev</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    </span><span class="token key atrule">env</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">      </span><span class="token key atrule">EXAMPLE</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"> </span><span class="token null important">null</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_tleR" id="deferred-env-files">Deferred <code>.env</code> files<a href="#deferred-env-files" class="hash-link" aria-label="Direct link to deferred-env-files" title="Direct link to deferred-env-files" translate="no">​</a></h3>
<p>In v1, when <code>options.envFile</code> was enabled, the <code>.env</code> file(s) were loaded at the time of task
creation, during the building of project/task graphs. This meant that if the <code>.env</code> file changed
between the time of graph creation and task execution, the changes would not be reflected.</p>
<p>In v2 and later, <code>.env</code> files are loaded <em>just before</em> task execution, ensuring that any changes to
the file are picked up.</p>
<div class="theme-admonition theme-admonition-caution admonition_WCGJ alert alert--warning"><div class="admonitionHeading_GCBg"><span class="admonitionIcon_L39b"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_pbrs"><p>Because of this change, task <code>env</code> variables will continue to override <code>.env</code> file variables, BUT
can no longer reference them for substitution. This is because the <code>.env</code> files are loaded later in
the process.</p></div></div>
<h3 class="anchor anchorTargetStickyNavbar_tleR" id="other-changes">Other changes<a href="#other-changes" class="hash-link" aria-label="Direct link to Other changes" title="Direct link to Other changes" translate="no">​</a></h3>
<ul>
<li class="">When <code>options.affectedFiles</code> is enabled, the list of files will be joined with the OS path
separator (<code>:</code> on Unix, <code>;</code> on Windows) instead of a comma (<code>,</code>) when passed as the
<code>MOON_AFFECTED_FILES</code> environment variable.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_tleR" id="task-inheritance">Task inheritance<a href="#task-inheritance" class="hash-link" aria-label="Direct link to Task inheritance" title="Direct link to Task inheritance" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_tleR" id="deep-merged-instead-of-shallow-merged">Deep merged instead of shallow merged<a href="#deep-merged-instead-of-shallow-merged" class="hash-link" aria-label="Direct link to Deep merged instead of shallow merged" title="Direct link to Deep merged instead of shallow merged" translate="no">​</a></h3>
<p>In v1, when inheriting tasks, all global configs (those in <code>.moon</code>) were <em>shallow merged</em> into a
single config ignoring merge task options, and <em>then</em> merged with the local config (<code>moon.*</code>) using
merge task options. This was not intuitive, as users expected all configs to be merged in sequence.
To demonstrate this, take the following example configs, in order of inherited:</p>
<div class="language-yaml codeBlockContainer_mQmQ theme-code-block" style="--prism-background-color:#00080f;--prism-color:#e5e9f1"><div class="codeBlockContent_t_Hd"><pre tabindex="0" class="prism-code language-yaml codeBlock_RMoD thin-scrollbar" style="background-color:#00080f;color:#e5e9f1"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#e5e9f1"><span class="token comment" style="color:#97a1af;font-style:italic"># .moon/tasks.yml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain"></span><span class="token key atrule">tasks</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  </span><span class="token key atrule">build</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    </span><span class="token key atrule">command</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"> </span><span class="token string" style="color:#c9e166">&#x27;build --cache&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    </span><span class="token key atrule">options</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">      </span><span class="token key atrule">mutex</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"> </span><span class="token string" style="color:#c9e166">&#x27;build&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain"></span><span class="token comment" style="color:#97a1af;font-style:italic"># .moon/tasks/tag-a.yml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain"></span><span class="token key atrule">tasks</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  </span><span class="token key atrule">build</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    </span><span class="token key atrule">args</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"> </span><span class="token string" style="color:#c9e166">&#x27;--force&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain"></span><span class="token comment" style="color:#97a1af;font-style:italic"># .moon/tasks/tag-b.yml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain"></span><span class="token key atrule">tasks</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  </span><span class="token key atrule">build</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    </span><span class="token key atrule">args</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"> </span><span class="token string" style="color:#c9e166">&#x27;--clean&#x27;</span><br></span></code></pre></div></div>
<p>Users would expect the final <code>build</code> task to be <code>build --cache --force --clean</code> with the mutex
option set. However, since the <code>tasks</code> setting was shallow merged, only the last config (<code>tag-b</code>)
would be used, resulting in the task being <code>noop --clean</code> without the mutex. The <code>noop</code> pops up
because the <code>command</code> setting was not configured in the last config.</p>
<p>To remedy this, and to improve task composition overall, global configs are no longer shallow merged
into a single config before merging with the local config. Instead, all configs are merged in
sequence, while respecting the task merge options. This is the order of operations for the new
system:</p>
<ul>
<li class="">Load all global configs (<code>.moon</code>) into a list, in order, based on the <code>inheritedBy</code> setting.</li>
<li class="">Load the local config (<code>moon.*</code>).</li>
<li class="">Create an inheritance chain by resolving global configs first, then the local config last, while
respecting <code>extend</code> and other composition settings.</li>
<li class="">Merge all task options in order, to create the final task options.</li>
<li class="">Merge all tasks in order, using the final task options to guide the merging behavior.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_tleR" id="file-groups-are-merged">File groups are merged<a href="#file-groups-are-merged" class="hash-link" aria-label="Direct link to File groups are merged" title="Direct link to File groups are merged" translate="no">​</a></h3>
<p>Because of the new deep merging behavior, file groups defined in inherited configs are now merged
together, instead of being replaced by the following config in the sequence. For example, given the
configs:</p>
<div class="language-yaml codeBlockContainer_mQmQ theme-code-block" style="--prism-background-color:#00080f;--prism-color:#e5e9f1"><div class="codeBlockContent_t_Hd"><pre tabindex="0" class="prism-code language-yaml codeBlock_RMoD thin-scrollbar" style="background-color:#00080f;color:#e5e9f1"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#e5e9f1"><span class="token comment" style="color:#97a1af;font-style:italic"># .moon/tasks/tag-a.yml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain"></span><span class="token key atrule">fileGroups</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  </span><span class="token key atrule">sources</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    </span><span class="token punctuation" style="color:#cad4e2">-</span><span class="token plain"> </span><span class="token string" style="color:#c9e166">&#x27;src/**&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain"></span><span class="token comment" style="color:#97a1af;font-style:italic"># .moon/tasks/tag-b.yml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain"></span><span class="token key atrule">fileGroups</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">  </span><span class="token key atrule">sources</span><span class="token punctuation" style="color:#cad4e2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">    </span><span class="token punctuation" style="color:#cad4e2">-</span><span class="token plain"> </span><span class="token string" style="color:#c9e166">&#x27;docs/**&#x27;</span><br></span></code></pre></div></div>
<p>In v1, the final <code>sources</code> file group would only include <code>docs/**</code>, as the second config would
replace the first. In v2, the final <code>sources</code> file group includes both <code>src/**</code> and <code>docs/**</code>.</p>
<h2 class="anchor anchorTargetStickyNavbar_tleR" id="vcs">VCS<a href="#vcs" class="hash-link" aria-label="Direct link to VCS" title="Direct link to VCS" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_tleR" id="new-hooks-system">New hooks system<a href="#new-hooks-system" class="hash-link" aria-label="Direct link to New hooks system" title="Direct link to New hooks system" translate="no">​</a></h3>
<p>We&#x27;ve rewritten our Git hooks from the ground up to be based around the <code>core.hooksPath</code> setting.
The following changes have been made:</p>
<ul>
<li class="">We no longer write hooks to the <code>.git/hooks</code> directory.</li>
<li class="">Instead, all hooks are written to <code>.moon/hooks</code> and Git is configured to use this directory.</li>
<li class="">Bash scripts no longer end in <code>.sh</code>.</li>
</ul>
<div class="theme-admonition theme-admonition-caution admonition_WCGJ alert alert--warning"><div class="admonitionHeading_GCBg"><span class="admonitionIcon_L39b"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_pbrs"><p>We currently don&#x27;t have an easy way to clean the previous implementation of hooks. You may need to
manually remove the old scripts from <code>.git/hooks</code> and <code>.moon/hooks</code> if they are causing issues.</p></div></div>
<h2 class="anchor anchorTargetStickyNavbar_tleR" id="other-changes-1">Other changes<a href="#other-changes-1" class="hash-link" aria-label="Direct link to Other changes" title="Direct link to Other changes" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_tleR" id="changed-touched-files">Changed (touched) files<a href="#changed-touched-files" class="hash-link" aria-label="Direct link to Changed (touched) files" title="Direct link to Changed (touched) files" translate="no">​</a></h3>
<p>We renamed the terminology &quot;touched files&quot; to &quot;changed files&quot; throughout the codebase and
documentation. This better aligns with common VCS terminology and reduces confusion. Because of
this, the following changes were made:</p>
<ul>
<li class="">Renamed the <code>moon query touched-files</code> CLI command to <code>moon query changed-files</code>.</li>
<li class="">Renamed the <code>get_touched_files</code> MCP tool to <code>get_changed_files</code>.</li>
<li class="">Renamed the <code>touchedFiles</code> run report field to <code>changedFiles</code>.</li>
</ul>
<div class="language-shell codeBlockContainer_mQmQ theme-code-block" style="--prism-background-color:#00080f;--prism-color:#e5e9f1"><div class="codeBlockContent_t_Hd"><pre tabindex="0" class="prism-code language-shell codeBlock_RMoD thin-scrollbar" style="background-color:#00080f;color:#e5e9f1"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#e5e9f1"><span class="token comment" style="color:#97a1af;font-style:italic"># Before</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">$ moon query touched-files</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain"></span><span class="token comment" style="color:#97a1af;font-style:italic"># After</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain">$ moon query changed-files</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_tleR" id="docker">Docker<a href="#docker" class="hash-link" aria-label="Direct link to Docker" title="Direct link to Docker" translate="no">​</a></h3>
<ul>
<li class="">The scaffolded <code>.moon/docker/workspace</code> directory was renamed to <code>.moon/docker/configs</code>.</li>
<li class="">The <code>moon docker file</code> command will now loop through all toolchains and use the first image found,
otherwise it defaults to &quot;scratch&quot;. If you want to be explicit, set the <code>docker.file.image</code>
setting.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_tleR" id="query-language-mql">Query language (MQL)<a href="#query-language-mql" class="hash-link" aria-label="Direct link to Query language (MQL)" title="Direct link to Query language (MQL)" translate="no">​</a></h3>
<ul>
<li class="">Renamed fields:<!-- -->
<ul>
<li class=""><code>projectName</code> -&gt; <code>projectId</code></li>
<li class=""><code>projectType</code> -&gt; <code>projectLayer</code></li>
<li class=""><code>taskPlatform</code> -&gt; <code>taskToolchain</code></li>
</ul>
</li>
</ul>
<div class="language-shell codeBlockContainer_mQmQ theme-code-block" style="--prism-background-color:#00080f;--prism-color:#e5e9f1"><div class="codeBlockContent_t_Hd"><pre tabindex="0" class="prism-code language-shell codeBlock_RMoD thin-scrollbar" style="background-color:#00080f;color:#e5e9f1"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#e5e9f1"><span class="token comment" style="color:#97a1af;font-style:italic"># Before</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain"></span><span class="token assign-left variable" style="color:#fef9c3">projectType</span><span class="token operator" style="color:#b7a9f9">=</span><span class="token plain">application </span><span class="token operator" style="color:#b7a9f9">&amp;&amp;</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#fef9c3">taskPlatform</span><span class="token operator" style="color:#b7a9f9">=</span><span class="token plain">node</span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain"></span><span class="token comment" style="color:#97a1af;font-style:italic"># After</span><span class="token plain"></span><br></span><span class="token-line" style="color:#e5e9f1"><span class="token plain"></span><span class="token assign-left variable" style="color:#fef9c3">projectLayer</span><span class="token operator" style="color:#b7a9f9">=</span><span class="token plain">application </span><span class="token operator" style="color:#b7a9f9">&amp;&amp;</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#fef9c3">taskToolchain</span><span class="token operator" style="color:#b7a9f9">=</span><span class="token plain">node</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_tleR" id="webhooks">Webhooks<a href="#webhooks" class="hash-link" aria-label="Direct link to Webhooks" title="Direct link to Webhooks" translate="no">​</a></h3>
<ul>
<li class="">Removed the <code>tool.*</code> events. Use <code>toolchain.*</code> events instead.</li>
<li class="">Removed the <code>runtime</code> field from <code>dependencies.*</code> events. Use the <code>toolchain</code> field instead.</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_QeZL"><a href="https://github.com/moonrepo/moon/tree/master/website/docs/migrate/2.0.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_bHB7" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_ydrU"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><div class="flex-1 text-left"><a class="cursor-pointer text-base text-blurple-300 hover:text-blurple-500 dark:text-purple-400 dark:hover:text-purple-200 font-bold inline-flex" href="/docs/commands/upgrade"><span class="inline-block mr-1 icon-previous" aria-hidden="true"><span></span></span><span>upgrade</span></a></div><div class="flex-1 text-right"><a class="cursor-pointer text-base text-blurple-300 hover:text-blurple-500 dark:text-purple-400 dark:hover:text-purple-200 font-bold inline-flex" href="/docs/cheat-sheet"><span>Cheat sheet</span><span class="inline-block ml-1 icon-next" aria-hidden="true"><span></span></span></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_XG6w thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#cli" class="table-of-contents__link toc-highlight">CLI</a><ul><li><a href="#commands" class="table-of-contents__link toc-highlight">Commands</a><ul><li><a href="#moon-action-graph" class="table-of-contents__link toc-highlight"><code>moon action-graph</code></a></li><li><a href="#moon-check" class="table-of-contents__link toc-highlight"><code>moon check</code></a></li><li><a href="#moon-ci" class="table-of-contents__link toc-highlight"><code>moon ci</code></a></li><li><a href="#moon-generate" class="table-of-contents__link toc-highlight"><code>moon generate</code></a></li><li><a href="#moon-init" class="table-of-contents__link toc-highlight"><code>moon init</code></a></li><li><a href="#moon-mcp" class="table-of-contents__link toc-highlight"><code>moon mcp</code></a></li><li><a href="#moon-query-projects" class="table-of-contents__link toc-highlight"><code>moon query projects</code></a></li><li><a href="#moon-run" class="table-of-contents__link toc-highlight"><code>moon run</code></a></li><li><a href="#moon-templates" class="table-of-contents__link toc-highlight"><code>moon templates</code></a></li><li><a href="#moon-run-1" class="table-of-contents__link toc-highlight"><code>moon run</code></a></li></ul></li></ul></li><li><a href="#workspace" class="table-of-contents__link toc-highlight">Workspace</a><ul><li><a href="#configuration-moonworkspace" class="table-of-contents__link toc-highlight">Configuration: <code>.moon/workspace.*</code></a></li></ul></li><li><a href="#toolchains" class="table-of-contents__link toc-highlight">Toolchains</a><ul><li><a href="#configuration-moontoolchain" class="table-of-contents__link toc-highlight">Configuration: <code>.moon/toolchain.*</code></a><ul><li><a href="#javascript" class="table-of-contents__link toc-highlight">JavaScript</a></li></ul></li></ul></li><li><a href="#extensions" class="table-of-contents__link toc-highlight">Extensions</a><ul><li><a href="#configuration-moonextensions" class="table-of-contents__link toc-highlight">Configuration: <code>.moon/extensions.*</code></a></li></ul></li><li><a href="#project" class="table-of-contents__link toc-highlight">Project</a><ul><li><a href="#configuration-moon" class="table-of-contents__link toc-highlight">Configuration: <code>moon.*</code></a></li><li><a href="#language-detection" class="table-of-contents__link toc-highlight">Language detection</a></li><li><a href="#custom-metadata" class="table-of-contents__link toc-highlight">Custom metadata</a></li><li><a href="#toolchain-disabling" class="table-of-contents__link toc-highlight">Toolchain disabling</a></li></ul></li><li><a href="#tasks" class="table-of-contents__link toc-highlight">Tasks</a><ul><li><a href="#configuration-moon-moontasks" class="table-of-contents__link toc-highlight">Configuration: <code>moon.*</code>, <code>.moon/tasks</code></a></li><li><a href="#simple-commands-only" class="table-of-contents__link toc-highlight">Simple commands only</a></li><li><a href="#local-mode" class="table-of-contents__link toc-highlight">Local mode</a></li><li><a href="#shells-by-default" class="table-of-contents__link toc-highlight">Shells by default</a></li><li><a href="#env-var-substitution-behavior" class="table-of-contents__link toc-highlight">Env var substitution behavior</a></li><li><a href="#env-var-precedence" class="table-of-contents__link toc-highlight">Env var precedence</a></li><li><a href="#deferred-env-files" class="table-of-contents__link toc-highlight">Deferred <code>.env</code> files</a></li><li><a href="#other-changes" class="table-of-contents__link toc-highlight">Other changes</a></li></ul></li><li><a href="#task-inheritance" class="table-of-contents__link toc-highlight">Task inheritance</a><ul><li><a href="#deep-merged-instead-of-shallow-merged" class="table-of-contents__link toc-highlight">Deep merged instead of shallow merged</a></li><li><a href="#file-groups-are-merged" class="table-of-contents__link toc-highlight">File groups are merged</a></li></ul></li><li><a href="#vcs" class="table-of-contents__link toc-highlight">VCS</a><ul><li><a href="#new-hooks-system" class="table-of-contents__link toc-highlight">New hooks system</a></li></ul></li><li><a href="#other-changes-1" class="table-of-contents__link toc-highlight">Other changes</a><ul><li><a href="#changed-touched-files" class="table-of-contents__link toc-highlight">Changed (touched) files</a></li><li><a href="#docker" class="table-of-contents__link toc-highlight">Docker</a></li><li><a href="#query-language-mql" class="table-of-contents__link toc-highlight">Query language (MQL)</a></li><li><a href="#webhooks" class="table-of-contents__link toc-highlight">Webhooks</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="bg-gray-100 dark:bg-slate-600" aria-labelledby="footer-heading"><h2 id="footer-heading" class="sr-only">Footer</h2><div class="max-w-7xl mx-auto py-3 px-2 sm:px-3 md:py-4 md:px-4 lg:px-6"><div class="lg:grid lg:grid-cols-5 lg:gap-3"><div class="grid grid-cols-3 gap-3 lg:col-span-3"><div><h6 class="m-0 text-base font-semibold uppercase">Learn</h6><ul role="list" class="m-0 mt-2 p-0 space-y-1 list-none"><li><a class="cursor-pointer text-base text-blurple-300 hover:text-blurple-500 dark:text-purple-400 dark:hover:text-purple-200 font-normal" href="/docs">Docs</a></li><li><a class="cursor-pointer text-base text-blurple-300 hover:text-blurple-500 dark:text-purple-400 dark:hover:text-purple-200 font-normal" href="/docs/guides/ci">Guides</a></li><li><a class="cursor-pointer text-base text-blurple-300 hover:text-blurple-500 dark:text-purple-400 dark:hover:text-purple-200 font-normal" href="/blog">Blog</a></li></ul></div><div><h6 class="m-0 text-base font-semibold uppercase">Ecosystem</h6><ul role="list" class="m-0 mt-2 p-0 space-y-1 list-none"><li><a href="https://github.com/moonrepo/moon/releases" target="_blank" rel="noopener noreferrer" class="cursor-pointer text-base text-blurple-300 hover:text-blurple-500 dark:text-purple-400 dark:hover:text-purple-200 font-normal">Releases</a></li><li><a href="https://github.com/moonrepo/moon-configs" target="_blank" rel="noopener noreferrer" class="cursor-pointer text-base text-blurple-300 hover:text-blurple-500 dark:text-purple-400 dark:hover:text-purple-200 font-normal">Shared configs</a></li><li><a href="https://github.com/moonrepo/dev" target="_blank" rel="noopener noreferrer" class="cursor-pointer text-base text-blurple-300 hover:text-blurple-500 dark:text-purple-400 dark:hover:text-purple-200 font-normal">Developer tools</a></li><li><a href="https://github.com/moonrepo/examples" target="_blank" rel="noopener noreferrer" class="cursor-pointer text-base text-blurple-300 hover:text-blurple-500 dark:text-purple-400 dark:hover:text-purple-200 font-normal">Examples repository</a></li></ul></div><div><h6 class="m-0 text-base font-semibold uppercase">Support</h6><ul role="list" class="m-0 mt-2 p-0 space-y-1 list-none"><li><a href="https://github.com/moonrepo" target="_blank" rel="noopener noreferrer" class="cursor-pointer text-base text-blurple-300 hover:text-blurple-500 dark:text-purple-400 dark:hover:text-purple-200 font-normal">GitHub</a></li><li><a href="https://discord.gg/qCh9MEynv2" target="_blank" rel="noopener noreferrer" class="cursor-pointer text-base text-blurple-300 hover:text-blurple-500 dark:text-purple-400 dark:hover:text-purple-200 font-normal">Discord</a></li><li><a href="https://twitter.com/tothemoonrepo" target="_blank" rel="noopener noreferrer" class="cursor-pointer text-base text-blurple-300 hover:text-blurple-500 dark:text-purple-400 dark:hover:text-purple-200 font-normal">Twitter</a></li></ul></div></div><div class="mt-4 lg:mt-0 col-span-2"><h6 class="m-0 text-base font-semibold uppercase">Contact us</h6><p class="text-base text-gray-800 dark:text-slate-100 font-normal">Want to learn more about moonrepo? Have questions?</p><div class="mt-2"><div class="flex justify-between gap-x-1"><div class="w-3/4"><label for="subject" class="sr-only">Subject</label><select id="subject" name="subject" required="" class="outline-none min-w-0 w-full bg-white border border-transparent rounded-md px-1 py-1 text-base text-gray-800 placeholder-gray-600 h-full font-sans"><option value="" selected=""></option><option value="Consultation">Consultation</option><option value="Partnership">Partnership</option><option value="Affiliation">Affiliation</option></select></div><button class="border border-transparent rounded-md px-2 flex items-center justify-center text-base font-bold text-white bg-blurple-400 dark:bg-purple-600 opacity-60 py-1 w-1/4" disabled="" id="contact-next" type="button">Next</button></div></div><div class="mt-4 flex justify-end items-start gap-1"><div><p class="text-sm text-gray-800 dark:text-slate-100 font-normal">Backed by</p></div><div><svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" id="Layer_1" x="0" y="0" viewBox="0 0 1604 320" height="22"><style>.st0{fill-rule:evenodd;clip-rule:evenodd;fill:#fb651e}</style><g id="Group-19"><path id="Fill-1" d="M0 320h320V0H0z" class="st0"></path><path id="Fill-2" d="M173 175.9V247h-27v-71.1L77.1 73H110l49.6 76L209 73h32.9z" style="fill-rule:evenodd;clip-rule:evenodd;fill:#fff"></path><g id="Group-18" transform="translate(425.854 73.217)"><path id="Fill-3" d="M81.8 34.1C52.2 34.1 30 57 30 86.6s22.2 52.7 51.8 52.7c19 0 35.5-9.8 44.4-26.3l25.4 15.1c-14.2 24.3-40.8 40.1-69.8 40.1C36.2 168.1 0 131.9 0 86.6 0 41.2 36.2 5 81.8 5c29.3 0 55.6 15.6 69.8 40.1l-25.4 15.1c-9-16.5-25.4-26.1-44.4-26.1" class="st0"></path><path id="Fill-5" d="M249.2 107.2c0-18.5-13.5-32.5-30.9-32.5-17.9 0-31.4 14-31.4 32.5s13.5 32.5 31.4 32.5c17.1 0 30.9-14 30.9-32.5m-91.4 0c0-33.4 26.8-60.2 60.5-60.2 33.2 0 60 26.8 60 60.2s-26.8 60.2-60 60.2c-33.7 0-60.5-26.8-60.5-60.2" class="st0"></path><path id="Fill-7" d="M467.1 97.6v67.2h-29v-62.1c0-17.4-8.5-28.4-21.3-28.4-13.1 0-22.7 11-22.7 28.4v62.1h-28v-62.1c0-17.4-8.8-28.4-21.7-28.4s-22.3 11-22.3 28.4v62.1h-29v-115h29v14.7c7.1-11 18.1-17.9 31.6-17.9 14.7 0 26.3 8.3 33.4 21.2 7.3-11.5 20.8-21.2 37.8-21.2 25.5 0 42.2 22.5 42.2 51" class="st0"></path><path id="Fill-9" d="M570.2 108.4c0-19.2-11.9-33-28.6-33-16.3 0-28.6 13.1-28.6 32.7 0 19.5 12.6 32.7 29.1 32.7 16.2-.1 28.1-13.6 28.1-32.4m-22.5 59.4c-16 0-27.8-7.3-34.6-17.4v14.4h-29V4.8h29v59c7-9.4 18.8-16.2 34.1-16.2 29.7 0 52.4 25.6 52.9 60.1.5 34.9-22.7 60.1-52.4 60.1" class="st0"></path><path id="Fill-11" d="M612.1 164.8h29v-115h-29zm-3.7-147.6c0-9.8 8.2-17.2 18.1-17.2 9.6 0 17.6 7.3 17.6 17.2 0 9.8-8 17.2-17.6 17.2-9.8-.1-18.1-7.4-18.1-17.2" class="st0"></path><path id="Fill-13" d="M766.1 98.1v66.7h-28v-60.5c0-18.5-9.7-30-23.7-30-15.4 0-26.3 14-26.3 30.5v60h-28v-115h28v14.5c7.8-10.8 20.3-17.7 34.9-17.7 25.8 0 43.1 22 43.1 51.5" class="st0"></path><path id="Fill-14" d="M854.1 113.8v-2.5l-29.3 5.7c-9.8 2.3-15.8 7.3-15.8 14 0 7.1 6.5 12.4 17.2 12.1 15.4-.5 27.9-13.9 27.9-29.3m28-18.4v69.4h-28v-13.3c-8.5 9.2-21.8 16-36.5 16.3-19.5 0-36.7-12.8-36.7-34.8 0-20.8 15.6-32.7 38.8-37.3l33.7-6.4c-2.3-9.6-9.6-16.9-20.7-16.9-11 0-21.3 6.9-27.5 15.6l-21.1-15.3c10.8-15.1 29.8-25.2 48.7-25.2 28.2-.2 49.3 19.3 49.3 47.9" class="st0"></path><path id="Fill-15" d="M941.1 75.8V124c0 9.4 4.1 13.7 12.6 13.7h14.4v27h-18.4c-24.5 0-36.6-12-36.6-37.2V75.8h-21v-26h20V21.4l29-8.9v37.3h27v26z" class="st0"></path><path id="Fill-16" d="M1069 107.2c0-18.5-13.5-32.5-30.9-32.5-17.9 0-31.4 14-31.4 32.5s13.5 32.5 31.4 32.5c17.1 0 30.9-14 30.9-32.5m-91.4 0c0-33.4 26.8-60.2 60.5-60.2 33.2 0 60 26.8 60 60.2s-26.8 60.2-60 60.2c-33.7 0-60.5-26.8-60.5-60.2" class="st0"></path><path id="Fill-17" d="M1178.1 47.3v27.9c-25.9 0-37 12.6-37 29.1v60.5h-28v-115h28v14.4c7.9-10.3 20.6-16.9 37-16.9" class="st0"></path></g></g></svg></div></div></div></div><div class="mt-3 pt-3 md:mt-4 md:pt-4 border-0 border-t border-solid border-gray-200 dark:border-slate-400 flex items-center justify-between"><div class="text-sm text-gray-800 dark:text-slate-100 font-normal m-0"><div class="footer__copyright">Copyright © 2026, moonrepo, Inc.</div></div><div class="flex space-x-2"><a href="https://github.com/moonrepo" target="_blank" rel="noopener noreferrer" class="cursor-pointer text-base text-blurple-300 hover:text-blurple-500 dark:text-purple-400 dark:hover:text-purple-200 font-normal"><span class="sr-only">GitHub</span><span class="inline-block" aria-hidden="true"><span></span></span></a><a href="https://discord.gg/qCh9MEynv2" target="_blank" rel="noopener noreferrer" class="cursor-pointer text-base text-blurple-300 hover:text-blurple-500 dark:text-purple-400 dark:hover:text-purple-200 font-normal"><span class="sr-only">Discord</span><span class="inline-block" aria-hidden="true"><span></span></span></a><a href="https://twitter.com/tothemoonrepo" target="_blank" rel="noopener noreferrer" class="cursor-pointer text-base text-blurple-300 hover:text-blurple-500 dark:text-purple-400 dark:hover:text-purple-200 font-normal"><span class="sr-only">Twitter</span><span class="inline-block" aria-hidden="true"><span></span></span></a></div></div></div></footer></div>
</body>
</html>