---
slug: v0.26
title: moon v0.26 - ???
authors: [milesj]
tags: [docker]
# image: ./img/v0.25.png
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import Button from '@site/src/ui/Button';
import Logo from '../static/brand/proto/logo.svg';

???

<!--truncate-->

## Full proto toolchain integration

<div className="float-right ml-4 mb-1" style={{ width: '50%' }}>
  <Logo />
</div>

Earlier this week we announced [proto](/proto), our own toolchain manager, and an attempt at a next
generation version manager for multiple languages. proto was originally moon's toolchain layer, but
we felt it best to extract it out into a stand-alone tool for everyone to use, especially those not
using moon!

Now that proto has been released, we've updated moon's Rust internals to utilize proto's latest Rust
crates. For the most part, everything will continue to work the same. However, the biggest change is
that the toolchain has moved from `~/.moon` to `~/.proto`, and will result in tools being
re-downloaded and installed. Feel free to delete the old `~/.moon` directory manually.

## New `moon docker setup` command

moon has provided [built-in `Dockerfile` support](/docs/guides/docker) since v0.15 (11 versions
ago!) and we've always encouraged the use of the [`moon setup`](/docs/commands/setup) command to
setup the toolchain and install project dependencies. Here's an example of a moon powered
`Dockerfile`:

```docker
FROM node:latest
WORKDIR /app

# Install moon binary
RUN npm install -g @moonrepo/cli

# Copy workspace skeleton
COPY ./.moon/docker/workspace .

# Install toolchain and dependencies
RUN moon setup

# Copy source files
COPY ./.moon/docker/sources .

# Build something
RUN moon run app:build

# Prune workspace
RUN moon docker prune

CMD ["moon", "run", "app:start"]
```

However, over the course of these 11 releases since v0.15, we refactored the `moon setup` command to
only setup the toolchain, and _no longer_ install project dependencies. We inadvertently broke our
Docker integration. This was an oversight on our part.

To rectify this situation, we're introducing a new
[`moon docker setup`](/docs/commands/docker/setup) command that will efficiently install
dependencies for projects focused/affected within the `Dockerfile`. This is a much better solution
than before, and you should see improved Docker layer caching!

```diff
-RUN moon setup
+RUN moon docker setup
```

## Other changes

View the
[official release](https://github.com/moonrepo/moon/releases/tag/%40moonrepo%2Fcli%400.26.0) for a
full list of changes.

- ???

## What's next?

Expect the following in the v1 release!

- Officially release a v1!
